!function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],m=0,p=[];m<s.length;m++)i=s[m],r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([240,2]),n()}({111:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 6H14V8H0V6Z",fill:"#F8819C"}),r.a.createElement("path",{d:"M8 0L8 14L6 14L6 -8.74228e-08L8 0Z",fill:"#F8819C"}))}},112:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("svg",{width:"13",height:"2",viewBox:"0 0 13 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 0H13V2H0V0Z",fill:"#F8819C"}))}},114:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"11.5",cy:"11.5",r:"11",stroke:"#8DD161"}),r.a.createElement("rect",{width:"12.9209",height:"1.87778",rx:"0.938891",transform:"matrix(0.708013 0.706199 -0.708013 0.706199 7.32812 6)",fill:"#8DD161"}),r.a.createElement("rect",{width:"12.9209",height:"1.87778",rx:"0.938889",transform:"matrix(0.708016 -0.706196 0.708016 0.706196 6 15.125)",fill:"#8DD161"}))}},115:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o),s=n(217),c=n.n(s),l=n(89),u=n.n(l),m=n(2),p=n(17),d=n(60),f=n(30);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,E(t).call(this,e))).state={addresses:n.props.addresses?JSON.parse(JSON.stringify(n.props.addresses)):[],addNewAddress:n.props.addresses&&!n.props.addresses.length,newAddress:{},editedAddresses:{},errors:{}},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r.a.Component),n=t,(a=[{key:"onEditToggle",value:function(e,t){var n=this,a=JSON.parse(JSON.stringify(this.state.addresses)),r=a[e].id,o=Object.assign({},this.state.editedAddresses);o[r]||(o[r]=Object.assign({},a[e])),this.setState({editedAddresses:o},function(){a[e].edit=t,n.setState({addresses:a})})}},{key:"onAddToggle",value:function(e){this.setState({addNewAddress:e})}},{key:"checkHouse",value:function(e,t){return!!e.house||(this.setState({errors:y({},this.state.errors,v({},t,"Необходимо указать улицу и номер дома"))}),!1)}},{key:"onSave",value:function(e){if(this.checkHouse(this.state.addresses[e],e)){var t=this,n=this.state.addresses[e].id;Object(m.n)("/addresses/update?id="+n,this.state.editedAddresses[n]).then(function(a){var r=Object.assign({},t.state.errors),o=t.state.addresses.slice(),i=-1;if(o.map(function(e,t){e.id===n&&(i=t)}),a.data.success){var s=Object.assign({},t.state.editedAddresses);delete s[n],r[e]="",o[i]=a.data.result,t.setState({addresses:o,editedAddresses:s}),t.props.setAddresses(o)}else a.data.errors&&(r[e]=a.data.errors.map(function(e){return e.message}).join(" "),t.setState({errors:r}))})}}},{key:"onSaveNew",value:function(){var e=this,t=this;this.checkHouse(this.state.newAddress,"new")&&Object(m.n)("/addresses/add",this.state.newAddress).then(function(n){var a=Object.assign({},t.state.errors);if(n.data.success){a.new="";var r=t.state.addresses.slice();r.push(n.data.result),t.setState({addresses:r,addNewAddress:!1,newAddress:{},errors:a}),1===r.length&&e.setAddress(r[0])}else n.data.errors&&(a.new=n.data.errors.map(function(e){return e.message}).join(" "),t.setState({errors:a}))})}},{key:"onSetField",value:function(e,t,n){return void 0===n?this.onChangeNewField(e,t):this.onChangeField(e,t,n)}},{key:"onSaveAddress",value:function(e){return void 0===e?this.onSaveNew():this.onSave(e)}},{key:"onCancelEdit",value:function(e){var t=Object.assign({},this.state.errors);return t[void 0===e?"new":e]="",this.setState({errors:t}),void 0===e?this.onAddToggle(!1):this.onEditToggle(e,!1)}},{key:"onChangeField",value:function(e,t,n){var a=this.state.addresses.slice(),r=(a.length?Object.assign({},a[n]):{}).id,o=Object.assign({},this.state.editedAddresses);o[r][t]=e.currentTarget.value,this.setState({editedAddresses:o})}},{key:"onChangeNewField",value:function(e,t){var n=Object.assign({},this.state.newAddress);n[t]=e.currentTarget.value,this.setState({newAddress:n})}},{key:"setAddressValue",value:function(e,t,n,a,r,o,i){return void 0===i?this.setNewAddressValue(e,t,n,a,r,o):this.changeAddressValue(e,t,n,a,r,o,i)}},{key:"setNewAddressValue",value:function(e,t,n,a,r,o){var i=Object.assign({},this.state.newAddress);i.address=e,i.geo_lat=t,i.geo_lon=n,i.street=a,i.street_type_full=r,i.house=o,this.setState({newAddress:i})}},{key:"changeAddressValue",value:function(e,t,n,a,r,o,i){var s=this.state.addresses.slice(),c=(s.length?Object.assign({},s[i]):{}).id,l=Object.assign({},this.state.editedAddresses);l[c].address=e,l[c].geo_lat=t,l[c].geo_lon=n,l[c].street=a,l[c].street_type_full=r,l[c].house=o,this.setState({editedAddresses:l})}},{key:"sendCoordinatesRequest",value:function(e,t,n,a,r,o){var i=this,s=null,c=null;u.a.post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{query:e,count:1,restrict_value:!0,locations:{kladr_id:"7800000000000"}},{headers:{Authorization:"Token "+this.props.dadataToken}}).then(function(e){e.data.suggestions&&void 0!==e.data.suggestions[0].data&&null!==e.data.suggestions[0].data.geo_lat&&null!==e.data.suggestions[0].data.geo_lon&&(s=e.data.suggestions[0].data.geo_lat,c=e.data.suggestions[0].data.geo_lon),i.setAddressValue(t,s,c,n,a,r,o)})}},{key:"renderEdit",value:function(e){var t,n=this,a={};void 0!==e&&this.state.editedAddresses[this.state.addresses[e].id]?(a=this.state.editedAddresses[this.state.addresses[e].id],t="Редактирование адреса"):(a=this.state.newAddress,t="Новый адрес");return r.a.createElement("div",null,r.a.createElement("h2",{className:"edit-address-title"},t),r.a.createElement("div",{className:"adress-inputs-container"},r.a.createElement("div",{className:"address-container"},r.a.createElement("div",{className:"input-stroke__label address-title"},"Адрес"),r.a.createElement(c.a,{name:"address",autoComplete:"off",placeholder:"выберите улицу, дом",query:a.address,token:this.props.dadataToken,geolocation:!1,specialRequestOptions:{locations:{kladr_id:"7800000000000"},locations_boost:[{kladr_id:"7800000000000"}],restrict_value:!0},onSelect:function(t){var r="",o=null,i=null,s=null,c=null,l=null;void 0!==t.data.street&&null!==t.data.street&&(r=t.data.street_type_full+" "+t.data.street,s=t.data.street,c=t.data.street_type_full,void 0!==t.data.house&&null!==t.data.house&&(r=r+", "+t.data.house_type+" "+t.data.house,l=t.data.house_type+" "+t.data.house),void 0!==t.data.block&&null!==t.data.block&&(r=r+", "+t.data.block_type+" "+t.data.block,l=l+", "+t.data.block_type+" "+t.data.block)),void 0!==t.data.geo_lat&&void 0!==t.data.geo_lon&&(o=t.data.geo_lat,i=t.data.geo_lon),a.address=r,null!==o&&null!==i||void 0===t.unrestricted_value?n.setAddressValue(r,o,i,s,c,l,e):n.sendCoordinatesRequest(t.unrestricted_value,r,s,c,l,e),n.setState({query:r})}})),r.a.createElement("div",{className:"address-container address-container-half"},r.a.createElement("div",{className:"input-stroke__label address-title"},"Квартира/Офис"),r.a.createElement("input",{type:"text",className:"personal-input",name:"flat",autoComplete:"off",value:a.flat,onChange:function(t){n.onSetField(t,"flat",e)}})),r.a.createElement("div",{className:"address-container address-container-half"},r.a.createElement("div",{className:"input-stroke__label address-title"},"Парадная"),r.a.createElement("input",{type:"text",className:"personal-input",name:"entrance",autoComplete:"off",value:a.entrance,onChange:function(t){n.onSetField(t,"entrance",e)}})),r.a.createElement("div",{className:"address-container"},r.a.createElement("div",{className:"input-stroke__label address-title"},"Название адреса"),r.a.createElement("input",{type:"text",className:"personal-input",name:"title",autoComplete:"off",value:a.title,onChange:function(t){n.onSetField(t,"title",e)}}))),r.a.createElement(f.a,{error:this.state.errors[void 0===e?"new":e]}),r.a.createElement("div",{className:"address-buttons-container"},r.a.createElement(p.a,{buttonType:"default",buttonTitle:"Сохранить",buttonClass:"personal-button",onClickSubmit:!0,onClickMethod:function(){n.onSaveAddress(e)}}),r.a.createElement(p.a,{buttonType:"default",buttonTitle:"Отмена",buttonClass:"personal-button_light",onClickSubmit:!0,onClickMethod:function(){n.onCancelEdit(e)}})))}},{key:"setAddress",value:function(e){this.props.setAddress(e)}},{key:"renderChoose",value:function(e,t){var n=this;return r.a.createElement("div",{className:"input-stroke__label address-title"},r.a.createElement("input",{type:"radio",id:"address"+e.id,name:"address",value:e.id,defaultChecked:0===t,onChange:function(){n.setAddress(e)}}),r.a.createElement("label",{htmlFor:"address"+e.id},e.title))}},{key:"renderLabel",value:function(e){return r.a.createElement("div",{className:"input-stroke__label address-title"},e)}},{key:"renderAddress",value:function(e){var t=Object.assign({},this.state.addresses[e]);return r.a.createElement("div",{className:"addresses__container"},r.a.createElement("div",{className:"input-stroke"},r.a.createElement("div",{className:"address-container"},r.a.createElement("div",{className:"container-address-title"},"payment"===this.props.mode?this.renderChoose(t,e):this.renderLabel(t.title),r.a.createElement("div",{className:i()({"hide-element":t.edit})},r.a.createElement("div",{onClick:this.onEditToggle.bind(this,e,!0)},r.a.createElement(d.a,null)))),r.a.createElement("div",{className:"input-stroke__label address-value"},"".concat(t.address,", ").concat(t.flat,", ").concat(t.entrance)))))}},{key:"renderAddButton",value:function(){var e=this;return r.a.createElement(p.a,{buttonType:"default",buttonTitle:"Добавить новый адрес",buttonClass:"address-button_save",onClickSubmit:!0,onClickMethod:function(){e.onAddToggle(!0)}})}},{key:"renderAddresses",value:function(){var e=this,t=[];return this.state.addresses.slice().forEach(function(n,a){t.push(r.a.createElement(r.a.Fragment,{key:"address-"+a},e.state.addresses[a].edit?e.renderEdit(a):e.renderAddress(a)))}),t}},{key:"render",value:function(){var e=this.renderAddresses(),t="Мои адреса";return"payment"===this.props.mode&&(t="Адрес доставки"),r.a.createElement("div",{className:"inf-block my-addresses"},r.a.createElement("h2",{className:"inf-block__title "},t),e,r.a.createElement("div",{className:i()({"address-buttons":!this.state.addNewAddress})},this.state.addNewAddress?this.renderEdit():this.renderAddButton()))}}])&&g(n.prototype,a),o&&g(n,o),t}();w.defaultProps={dadataToken:void 0},t.a=w},116:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(45)),i=n(2);n(572);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.order,n=e.total_due,a=e.total-n;return r.a.createElement("div",null,r.a.createElement("div",{className:"history-orders__title"},"Ваш заказ"),r.a.createElement("div",{className:"history-orders__list"},t.map(function(e){return r.a.createElement("div",{className:"order__order-item",key:e.title},r.a.createElement("div",{className:"order__item-container"},r.a.createElement("div",{className:"order__item-title"},e.title," ",e.quantity>1?"x"+e.quantity:""),r.a.createElement("div",{className:"order__item-price"},Object(i.e)(parseInt(e.price,10)||e.amount))),r.a.createElement("div",{className:"order__description"},e.description?e.description:Object(i.f)(e.groups)))})),r.a.createElement("div",{className:"history-orders__result"},a>0&&r.a.createElement("div",{className:"history-orders__discount"},r.a.createElement("div",{className:"history-orders__discount-title"},"Скидка"),r.a.createElement("div",{className:"history-orders__discount-amount"},Object(i.e)(a))),r.a.createElement("div",{className:"history-orders__title history-orders__total"},r.a.createElement("div",null,"Сумма заказа"),r.a.createElement("div",{className:"history-orders__total"},Object(i.e)(n))),r.a.createElement("div",{className:"history-orders__bonuses"},"Будет начислено ",this.bonuses," ",r.a.createElement(o.a,null))))}},{key:"bonuses",get:function(){var e=0;return this.props.bonusesAccrued?e=parseInt(this.props.bonusesAccrued,10):this.props.bonusAccrualPercent&&(e=Math.ceil(this.props.total_due*this.props.bonusAccrualPercent)),e}}])&&c(n.prototype,a),s&&c(n,s),t}();p.defaultProps={bonusesAccrued:void 0},t.a=p},118:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(17),i=n(111),s=n(112),c=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,p(t).call(this,e))).state={elementInCart:n.props.elementInCart},n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),n=t,(a=[{key:"renderItemControls",value:function(e){var t=this;return 0===e?r.a.createElement(o.a,{buttonType:"default",buttonTitle:"В корзину",buttonClass:"buy-item",onClickMethod:function(){t.props.addToCart(t.props.product),t.setState({elementInCart:t.state.elementInCart+1})},dataObject:this.props.product}):r.a.createElement("div",{className:"item-controls-cart"},r.a.createElement("div",{className:"remove-item-icon",onClick:function(){t.props.removeFromCart(t.props.product),t.setState({elementInCart:t.state.elementInCart-1})}},r.a.createElement(s.a,null)),e,r.a.createElement("div",{className:"add-item-icon",onClick:function(){t.props.addToCart(t.props.product),t.setState({elementInCart:t.state.elementInCart+1})}},r.a.createElement(i.a,null)))}},{key:"renderItemLabel",value:function(e){switch(e.icon){case"circle":return r.a.createElement("svg",{key:e.icon,width:"16",height:"16.38",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8 0.5C3.65714 0.5 0 4.15714 0 8.5C0 12.8429 3.65714 16.5 8 16.5C12.3429 16.5 16 12.8429 16 8.5C16 4.15714 12.3429 0.5 8 0.5ZM8 15.1286C4.34286 15.1286 1.37143 12.1571 1.37143 8.5C1.37143 4.84286 4.34286 1.87143 8 1.87143C11.6571 1.87143 14.6286 4.84286 14.6286 8.5C14.6286 12.1571 11.6571 15.1286 8 15.1286Z",fill:"#8DD161"}));case"fire":return r.a.createElement("svg",{key:e.icon,width:"16",height:"16.38",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M10.2897 16.7838C10.0613 16.7838 9.83292 16.7838 9.83292 16.5555C9.83292 16.3273 9.83292 16.099 9.83292 15.8707C10.5182 15.186 10.7466 14.2729 10.5182 13.3599C10.5182 12.6751 10.0613 11.7621 9.3761 11.0773L8.00564 9.70777L6.63518 11.0773C5.94995 11.7621 5.49313 12.6751 5.26472 13.3599C5.03631 14.2729 5.26472 15.186 5.94995 15.8707C6.17836 16.099 6.17836 16.3273 5.94995 16.5555C5.94995 16.7838 5.49313 16.7838 5.26472 16.7838C1.83856 15.186 0.0112795 12.9034 0.0112795 10.1643C0.0112795 9.93603 -0.217131 7.88171 1.38174 6.05564C2.7522 4.45783 5.03631 2.40351 5.03631 2.40351C5.26472 2.17525 5.72154 2.17525 5.94995 2.40351L8.46246 4.91435C8.69087 5.14261 8.69087 5.59912 8.46246 5.82738C8.23405 6.05564 7.77723 6.05564 7.54882 5.82738L5.49313 3.5448C4.8079 4.22957 3.20902 5.82738 2.29538 6.74041C1.15333 8.33822 1.15333 9.93603 1.15333 9.93603C1.15333 11.9904 2.52379 13.5882 3.89425 14.5012C3.66584 14.0447 3.66584 13.3599 3.89425 12.9034C4.12266 11.9904 4.57949 11.0773 5.49313 10.1643L7.32041 8.33822C7.54882 8.10996 7.54882 8.10996 7.77723 8.10996C8.00564 8.10996 8.00564 8.10996 8.23405 8.33822L10.0613 10.1643C10.975 11.0773 11.4318 11.9904 11.6602 12.9034C11.6602 13.5882 11.6602 14.0447 11.6602 14.5012C13.2591 13.5882 14.4011 11.9904 14.4011 9.93603C14.4011 9.93603 14.6295 8.33822 13.2591 6.74041C12.3454 5.37086 8.23405 1.49048 8.23405 1.49048C8.00564 1.26222 8.00564 0.805702 8.23405 0.577444C8.46246 0.349185 8.69087 0.349185 8.91928 0.577444C9.14769 0.577444 13.2591 4.45783 14.6295 6.05564C16 7.88171 16 9.70777 16 10.1643C16 12.9034 14.1727 15.186 10.7466 16.7838C10.5182 16.7838 10.5182 16.7838 10.2897 16.7838Z",fill:"#F8819C"}));case"leaf":return r.a.createElement("svg",{key:e.icon,width:"16",height:"16.38",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M13.6629 13.3485C14.8614 11.8939 15.5805 10.197 15.5805 8.25758C15.5805 3.89394 12.2247 0.5 7.91012 0.5H0.719109C0.479408 0.5 0 0.742424 0 1.22727V8.5C0 12.3788 3.3558 16.0152 7.67041 16.0152C9.58801 16.0152 11.2659 15.2879 12.7041 14.0758L14.8614 16.2576C15.1011 16.5 15.1011 16.5 15.3408 16.5C15.5805 16.5 15.5805 16.5 15.8202 16.2576C16.0599 16.0152 16.0599 15.5303 15.8202 15.2879L13.6629 13.3485ZM7.67041 14.803C4.0749 14.803 1.1985 11.8939 1.1985 8.25758V1.71212H7.67041C11.2659 1.71212 14.1423 4.62121 14.1423 8.25758C14.1423 9.71212 13.6629 11.1667 12.7041 12.3788L5.51312 5.10606C5.27342 4.86364 4.79401 4.86364 4.55431 5.10606C4.31461 5.34848 4.31461 5.83333 4.55431 6.07576L11.7453 13.3485C10.5468 14.0758 9.10861 14.803 7.67041 14.803Z",fill:"#8DD161"}))}return""}},{key:"renderItemSpecificationsDesktop",value:function(e){return e.map(function(e,t){return r.a.createElement("div",{key:"spec"+t,className:"text-description item-desc-small"},e.value," ",e.title)})}},{key:"renderItemSpecificationsMobile",value:function(e){for(var t={value:e[0].value,title:e[0].title,text:"".concat(e[0].value," ").concat(e[0].title)},n={value:[],title:[],text:""},a=1;a<e.length;a++)n.title.push(e[a].title.substring(0,1).toUpperCase()),n.value.push(e[a].value);return n.title=n.title.join("/"),n.value=n.value.join("/"),n.text="".concat(n.title,": ").concat(n.value),[t,n].map(function(e,t){return r.a.createElement("div",{key:"spec"+t,className:"text-description item-desc-small"},e.text)})}},{key:"render",value:function(){var e=this,t=this.renderItemControls(this.state.elementInCart),n="",a="";this.props.product.labels&&this.props.product.labels.length&&(n=this.props.product.labels.map(function(e){return e.title}).join(", "),a=this.props.product.labels.map(function(t){return e.renderItemLabel(t)}));var o=this.props.product.specifications,i="",s="";return o&&o.length&&(i=this.renderItemSpecificationsDesktop(o),s=this.renderItemSpecificationsMobile(o)),r.a.createElement("div",{key:"product".concat(this.props.product.id),className:"item"},r.a.createElement("div",{className:"item__content"},r.a.createElement("div",{className:"item-img-container"},r.a.createElement("img",{className:"item-img-container__img",src:this.props.product.image})),r.a.createElement("div",{className:"item-title"},r.a.createElement("div",{className:"item-title__title"},this.props.product.title,r.a.createElement("div",{className:"item-title__icon",title:n},a))),r.a.createElement("div",{className:"item-desc"},r.a.createElement("div",{className:"item-desc__description text-description"},this.props.product.description))),r.a.createElement("div",{className:"item__footer"},r.a.createElement("div",{className:"item-props"},i),r.a.createElement("div",{className:"item-props--mobile"},s),r.a.createElement("div",{className:"item-controls"},t,r.a.createElement("div",{className:"price-container"},Object(c.e)(this.props.product.price)))))}}])&&u(n.prototype,a),l&&u(n,l),t}(),h=n(5),b=n.n(h);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,_(t).call(this,e))).state={},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){for(var e=this,t=[],n=function(n){var a=0;e.props.cart.forEach(function(t){(t.itemData?t.itemData.id:t.id)===e.props.category.products[n].id&&(a=t.numberItems)}),t.push(r.a.createElement(f,{key:"product"+e.props.category.products[n].id,product:e.props.category.products[n],elementInCart:a,cart:e.props.cart,addToCart:e.props.addToCart,removeFromCart:e.props.removeFromCart,categoryID:e.props.category.id}))},a=0;a<this.props.category.products.length;a++)n(a);return r.a.createElement("section",{className:"market-section",name:"section"+this.props.category.id},r.a.createElement("div",{className:"market-section__title-container"},r.a.createElement("div",{className:"market-section__title"},this.props.category.title),r.a.createElement("div",{className:"market-section__title help-element"})),r.a.createElement("div",{className:b()({"swipe-container":0===this.props.category.id})},r.a.createElement("div",{className:b()("market-section__items",{"scroll-container":0===this.props.category.id})},t.map(function(e){return e}))))}}])&&v(n.prototype,a),o&&v(n,o),t}();t.a=N},150:function(e,t,n){(function(t){const n=t.env.PORT;e.exports={IS_DEV:!1,PORT:n,requestUri:"https://pobo.ru/api"}}).call(this,n(146))},151:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(116),c=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=p(this,d(t).call(this,e));var a=window.location.hash.split("/");return(a.length<3||a.length>2&&""===a[2])&&-1!==window.location.hash.indexOf("#/status")&&(window.location.hash="#/"),n.state={id:a[a.length-1],status:{},customer:{},order:{items:[],delivery_details:{address:{}},total_due:0,bonuses_accrued:0},profile:n.props.profile},n}var n,a,o,l,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:(l=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n={},!this.state.profile.phone){e.next=8;break}return e.next=5,Object(c.n)("/order/status",{id:this.state.id}).then(function(e){e&&e.data&&!0===e.data.success&&(n.status=e.data.result,e.data.result.current_status&&!0!==e.data.result.finished?Object(c.r)("lastOrder",t.state.id,{path:window.location.pathname,expires:86400}):Object(c.b)("lastOrder"))});case 5:return e.next=7,Object(c.j)("/order/get?id="+this.state.id).then(function(e){n.customer=e.data.result.customer,n.order=e.data.result.order});case 7:this.setState(n);case 8:case"end":return e.stop()}},e,this)}),h=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=l.apply(e,t);function o(e){u(r,n,a,o,i,"next",e)}function i(e){u(r,n,a,o,i,"throw",e)}o(void 0)})},function(){return h.apply(this,arguments)})},{key:"createNewOrder",value:function(){window.location.href="#/"}},{key:"render",value:function(){return r.a.createElement("main",{key:"status",className:i()("page order-status",{"hide-element":this.props.showMobileAuth})},r.a.createElement("div",{className:"page__container container"},r.a.createElement("div",{className:"status__left-column"},r.a.createElement("h1",{className:"page__title"},"Статус заказа"),r.a.createElement("div",{className:"order-status__name"},"Заказ № ",this.state.order?this.state.order.order_number:0),this.state.status.estimated_delivery_time?this.estimate:"",r.a.createElement("div",{className:"order-status__steps order-steps"},this.timeline),r.a.createElement("div",{className:"order-status__btn btn-transparent"},r.a.createElement("button",{className:"btn btn-order-status",onClick:this.createNewOrder.bind(this)},"Новый заказ"))),r.a.createElement("div",{className:"status__right-column"},this.order)))}},{key:"order",get:function(){var e="",t="";return this.state.order&&(e=3===this.state.order.payment_method?"Картой на сайте":"Оплата в ресторане",this.state.order.delivery_details.address.address&&(this.state.order.delivery_details.address.address&&(t+=this.state.order.delivery_details.address.address),this.state.order.delivery_details.address.entrance&&(t=t+", парадная "+this.state.order.delivery_details.address.entrance),this.state.order.delivery_details.address.flat&&(t=t+", квартира "+this.state.order.delivery_details.address.flat))),r.a.createElement("div",null,r.a.createElement("div",{className:"inf-block"},r.a.createElement("h2",{className:"inf-block__title"},"Личная информация"),this.state.customer.firstname?r.a.createElement("div",null,this.state.customer.firstname):"",r.a.createElement("div",{className:"inf-block__content"},this.state.customer.phone?"+"+this.state.customer.phone:"")),r.a.createElement("div",{className:"inf-block"},r.a.createElement("h2",{className:"inf-block__title"},"Адрес доставки"),r.a.createElement("div",{className:"inf-block__content"},t||"")),r.a.createElement("div",{className:"inf-block"},r.a.createElement("h2",{className:"inf-block__title"},"Способ оплаты"),r.a.createElement("div",{className:"inf-block__content"},e||"")),r.a.createElement("div",{className:"inf-block"},r.a.createElement(s.a,{order:this.state.order.items,total_due:+this.state.order.total_due,total:+this.state.order.total,bonusAccrualPercent:+this.state.bonusAccrualPercent,bonusesAccrued:+this.state.order.bonuses_accrued})))}},{key:"estimate",get:function(){return r.a.createElement("div",{className:"order-status__timeline order-timeline"},r.a.createElement("span",{className:"order-timeline__icon"},r.a.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.5 0.75C6.03693 0.75 0.75 6.03693 0.75 12.5C0.75 18.9631 6.03693 24.25 12.5 24.25C18.9631 24.25 24.25 18.9631 24.25 12.5C24.25 6.03693 18.9631 0.75 12.5 0.75ZM12.5 22.9833C6.6964 22.9833 2.01667 18.3036 2.01667 12.5C2.01667 6.6964 6.6964 2.01667 12.5 2.01667C18.3036 2.01667 22.9833 6.6964 22.9833 12.5C22.9833 18.3036 18.3036 22.9833 12.5 22.9833Z",fill:"#8DD161",stroke:"#8DD161",strokeWidth:"0.5"}),r.a.createElement("path",{d:"M12.501 3.05078C12.3239 3.05078 12.1677 3.13683 12.0607 3.2438C11.9538 3.35076 11.8677 3.50697 11.8677 3.68411V12.2508H6.36771C6.19057 12.2508 6.03435 12.3368 5.92739 12.4438C5.82043 12.5508 5.73438 12.707 5.73438 12.8841C5.73438 13.0613 5.82043 13.2175 5.92739 13.3244C6.03435 13.4314 6.19057 13.5174 6.36771 13.5174H12.501C12.6782 13.5174 12.8344 13.4314 12.9414 13.3244C13.0483 13.2175 13.1344 13.0613 13.1344 12.8841V3.68411C13.1344 3.50697 13.0483 3.35076 12.9414 3.2438C12.8344 3.13683 12.6782 3.05078 12.501 3.05078Z",fill:"#8DD161",stroke:"#8DD161",strokeWidth:"0.5"}))),r.a.createElement("span",{className:"order-timeline__text"},"Доставим не позднее"),r.a.createElement("span",{className:"order-timeline__time"},this.state.status.estimated_delivery_time))}},{key:"timeline",get:function(){return this.state.status.status_history&&this.state.status.status_history.map(function(e,t){var n=e.time?"complete":"process",a=e.last?" last-step":"";return r.a.createElement("div",{className:"order-steps__row "+n+a,key:"step_row".concat(t)},r.a.createElement("div",{className:"order-steps__icon"},r.a.createElement("svg",{className:"svg svg-check "},r.a.createElement("use",{href:"#check"}))),r.a.createElement("div",{className:"order-steps__time"},e.time),r.a.createElement("div",{className:"order-steps__name"},e.title))})}}])&&m(n.prototype,a),o&&m(n,o),t}();t.a=h},17:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,c(t).call(this,e))).state={},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e="";return e="function"==typeof this.props.onClickMethod?this.props.onClickMethod:function(){},this.props.onClickSubmit?r.a.createElement("button",{className:"button button-".concat(this.props.buttonType," ").concat(this.props.buttonClass),onClick:function(t){e(t)}},this.props.buttonTitle):r.a.createElement("div",{className:"button button-".concat(this.props.buttonType," ").concat(this.props.buttonClass),onClick:function(t){e(t)}},this.props.buttonTitle)}}])&&i(n.prototype,a),o&&i(n,o),t}();t.a=u},196:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"l",function(){return N}),n.d(t,"k",function(){return w}),n.d(t,"g",function(){return l}),n.d(t,"p",function(){return h}),n.d(t,"a",function(){return E}),n.d(t,"o",function(){return g}),n.d(t,"h",function(){return k}),n.d(t,"r",function(){return C}),n.d(t,"b",function(){return j}),n.d(t,"m",function(){return _}),n.d(t,"d",function(){return M}),n.d(t,"e",function(){return S}),n.d(t,"j",function(){return u}),n.d(t,"n",function(){return p}),n.d(t,"s",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"f",function(){return O}),n.d(t,"q",function(){return A}),n.d(t,"c",function(){return m});var a=n(89),r=n.n(a),o=n(52),i=n(110),s=n.n(i),c=n(150);function l(){var e=o.reactLocalStorage.getObject("cart");return e.items?e.items:[]}function u(e){return r.a.get(c.requestUri+e,d())}function m(e){s.a.track("Lead",{content_name:e})}function p(e,t){return r.a.post(c.requestUri+e,t,d())}function d(){var e=k("authToken");return e?{headers:{Authorization:"Bearer "+e}}:null}function f(e,t){var n=-1;return e.forEach(function(e,a){e.itemData.id===t.id&&(n=a)}),n}function h(e){var t=l(),n=f(t,e);return n>-1&&(t[n].numberItems-=1,t[n].numberItems<=0&&t.splice(n,1)),o.reactLocalStorage.setObject("cart",{items:t}),t}function b(e){o.reactLocalStorage.setObject("delivery",{delivery:e})}function y(){return o.reactLocalStorage.getObject("delivery")}function v(e,t){return"set"!==e.type&&(e.type="product"),{inCart:!0,numberItems:t,itemData:e}}function g(e){var t=l(),n=f(t,e);return n>-1&&t.splice(n,1),o.reactLocalStorage.setObject("cart",{items:t}),t}function _(e){var t=[];return e.map(function(e,n){t.push(v(e,e.quantity?e.quantity:1))}),o.reactLocalStorage.setObject("cart",{items:t}),t}function E(e){var t=l(),n=f(t,e);return n>-1?t[n].numberItems+=1:t.push(v(e,1)),o.reactLocalStorage.setObject("cart",{items:t}),t}function N(){var e=l(),t=0;return e.forEach(function(e){t+=parseInt(e.itemData.price?e.itemData.price:e.itemData.amount,10)*e.numberItems}),t}function w(){var e=l(),t=0;return e.forEach(function(e){e.numberItems&&(t+=parseInt(e.numberItems,10))}),t}function k(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function C(e,t,n){var a,r,o,i=(n=n||{}).expires,s=new Date;for(a in"number"==typeof i&&i&&(s.setTime(s.getTime()+1e3*i),i=n.expires=s),i&&i.toUTCString&&(n.expires=i.toUTCString()),o=e+"="+(t=encodeURIComponent(t)),n)o+="; "+a,!0!==(r=n[a])&&(o+="="+r);document.cookie=o}function j(e){C(e,"",{expires:-1})}function O(e){var t="";return e.map(function(e,n){e.ingredients&&e.ingredients.map(function(e,a){t+=n>0?e.title.toLowerCase()+", ":e.title+", "})}),t=t.substr(0,t.length-2)}function M(e){setTimeout(function(){var t=document.getElementById(e);t&&t.focus()},0)}function S(e){return null!=e?"".concat(e," ₽"):""}function A(){var e=S(N());document.getElementById("cart-price").innerHTML=e,document.getElementsByClassName("mobile-basket-button")[0].innerHTML=e}},212:function(e,t,n){"use strict";(function(e){var a=n(581),r=n(582),o=n(40),i=(n(196),n(68)),s=n(149),c=n(5),l=n.n(c),u=n(231),m=n(233),p=n(232),d=n(70),f=n(229),h=n(218),b=n(220),y=n(234),v=n(236),g=n(237),_=n(230),E=n(151),N=n(235),w=n(227),k=n(2);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){S(o,a,r,i,s,"next",e)}function s(e){S(o,a,r,i,s,"throw",e)}i(void 0)})}}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(t){function n(e){var t,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,r=T(n).call(this,e),t=!r||"object"!==C(r)&&"function"!=typeof r?I(a):r,x(I(t),"addToCart",function(e){t.setState({cart:Object(k.a)(e)},function(){t.priceCart()}),Object(k.c)("micro")}),x(I(t),"closeAuth",function(){var e=Object.assign({},t.state.authorization);e.authorized=Object(k.h)("authToken"),e.show=!1,t.setState({authorization:e,navigateRequest:""})}),t.state={categories:[],cart:Object(k.g)(),cartPrice:0,cartCount:0,authorization:{show:!1,authorized:Object(k.h)("authToken")},profile:{},showMobileAuth:!1,definitions:{layout:{company_phone:"",restaurants:[],social_links:{},frontpage_slider:[],mobile_slider:[]},orders:{min_amount_for_delivery:0,bonus_accrual_percent:0}},recommendations:[],navigateRequest:""},t}var c,j,S,z,L;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,e.Component),c=n,(j=[{key:"componentDidMount",value:function(){this.priceCart()}},{key:"componentWillMount",value:(L=A(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,{},n={recommendations:[]},window.addEventListener("hashchange",this.onHashChange.bind(this),!1),!t.state.authorization.authorized){e.next=10;break}return e.next=7,t.getUserProfile();case 7:n.profile=e.sent,e.next=11;break;case 10:t.onHashChange();case 11:return e.next=13,Object(k.j)("/definitions").then(function(e){e&&e.data&&e.data.success&&(n.definitions=e.data.result)});case 13:return e.next=15,Object(k.j)("/products/featured",{}).then(function(e){e&&e.data&&e.data.success&&(n.recommendations=e.data.result.items)});case 15:return e.next=17,Object(k.j)("/product-categories").then(function(e){n.categories=[{id:0,title:"Хиты",products:n.recommendations}].concat(M(e.data.result.items))});case 17:return e.next=19,this.setState(n);case 19:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.onHashChange.bind(this),!1)}},{key:"onHashChange",value:function(){if(!this.state.authorization.authorized){var e=window.location.hash;if("#/cabinet"===e||"#/payment"===e)return void(window.location.hash="#/")}this.state.showMobileAuth&&this.setState({showMobileAuth:!1}),setTimeout(function(){i.animateScroll.scrollToTop()},100)}},{key:"removeFromCart",value:function(e){var t=this;this.setState({cart:Object(k.p)(e)},function(){t.priceCart()})}},{key:"removeAllItemsFromCart",value:function(e){var t=this;this.setState({cart:Object(k.o)(e)},function(){t.priceCart()})}},{key:"loadCart",value:function(e){var t=this;Object(k.m)(e),this.setState({cart:Object(k.m)(e)},function(){t.priceCart()})}},{key:"priceCart",value:function(){this.setState({cartPrice:Object(k.l)(),cartCount:Object(k.k)()},function(){Object(k.q)()})}},{key:"getUserProfile",value:(z=A(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this,t=Object(k.h)("authToken"),n={},!t){e.next=6;break}return e.next=6,Object(k.j)("/profile?addresses=true&orders=true&cards=true").then(function(e){e&&e.data&&!0===e.data.success&&(n=e.data.result)});case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return z.apply(this,arguments)})},{key:"logout",value:function(){Object(k.b)("authToken"),this.setState({profile:{}},function(){window.location.hash="#/"})}},{key:"openAuth",value:function(){var e=Object.assign({},this.state.authorization);e.authorized="",e.show=!0,this.setState({authorization:e})}},{key:"doAuth",value:function(e){var t=this;if(e&&e.token){Object(k.r)("authToken",e.token,{path:window.location.pathname,expires:2550259188});var n=Object.assign({},this.state.authorization);n.authorized=e.token,n.show=!1,n.authorized&&this.state.navigateRequest&&this.doNavigate(this.state.navigateRequest),this.setState({authorization:n,navigateRequest:""},A(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserProfile();case 2:n=e.sent,t.setUserProfile(n);case 4:case"end":return e.stop()}},e)})))}}},{key:"setUserProfile",value:function(e){this.setState({profile:e})}},{key:"setProfileBonuses",value:function(e){var t=Object.assign({},this.state.profile);t.bonuses=e,this.setState({profile:t})}},{key:"showUserProfile",value:function(){this.onNavigateRequest("#/cabinet")}},{key:"doNavigate",value:function(e){this.state.showMobileAuth&&this.setState({showMobileAuth:!this.state.showMobileAuth}),window.location.href=e}},{key:"onNavigateRequest",value:function(e,t){this.state.profile.phone||!0===t?this.doNavigate(e):(this.setState({navigateRequest:e}),this.openAuth())}},{key:"setShowMobileMenu",value:function(){this.setState({showMobileAuth:!this.state.showMobileAuth})}},{key:"setAddresses",value:function(e){var t=Object.assign({},this.state.profile);t.addresses=e,this.setState({profile:t})}},{key:"setProfileEmail",value:function(e,t,n){var a=Object.assign({},this.state.profile);a.email=e,a.email_confirmed=t,a.email_subscribed=n,this.setState({profile:a})}},{key:"render",value:function(){var t=this;return e.createElement(s.StickyContainer,null,e.createElement(s.Sticky,null,function(n){var a=n.style,r=n.isSticky;return e.createElement("div",{className:l()({"sticky-header":r}),style:O({zIndex:"11000",backgroundColor:"#fff"},a)},e.createElement(d.a,{modalTitle:"Авторизация",modalText:"Укажите телефон, куда прислать СМС с кодом для авторизации",modalDescription:"Туда же будут начислены побонусы",requestAuthCodeApi:"/auth/login-or-register",confirmAuthCodeApi:"/auth/dual-confirm",isOpen:t.state.authorization.show&&!t.state.authorization.authorized,onClose:t.closeAuth,onSuccess:t.doAuth.bind(t)}),e.createElement(u.a,{categories:t.state.categories,cartPrice:t.state.cartPrice,profile:t.state.profile,category:t.state.category,setShowMobileMenu:t.setShowMobileMenu.bind(t),showMobileAuth:t.state.showMobileAuth,onShowUserProfile:t.showUserProfile.bind(t),menuItemClick:function(e){window.location.href="#/"}}))}),this.state.showMobileAuth?this.mobileAuth:"",e.createElement(a.a,null,e.createElement(r.a,null,e.createElement(o.a,{path:"/",exact:!0,component:function(){return e.createElement(p.a,{cartPrice:t.state.cartPrice,cartCount:t.state.cartCount,cart:t.state.cart,addToCart:t.addToCart,removeFromCart:t.removeFromCart.bind(t),recommendations:t.state.recommendations,slides:t.state.definitions.layout.frontpage_slider,mobileSlides:t.state.definitions.layout.mobile_slider,showMobileAuth:t.state.showMobileAuth,categories:t.state.categories})}}),e.createElement(o.a,{path:"/cabinet",component:function(){return e.createElement(f.a,{profile:t.state.profile,showMobileAuth:t.state.showMobileAuth,logout:t.logout.bind(t),setProfileEmail:t.setProfileEmail.bind(t),setAddresses:t.setAddresses.bind(t),getUserProfile:t.getUserProfile.bind(t),setUserProfile:t.setUserProfile.bind(t),loadCart:t.loadCart.bind(t),dadataToken:t.state.definitions.dadataToken})}}),e.createElement(o.a,{path:"/sales",component:function(){return e.createElement(h.a,{showMobileAuth:t.state.showMobileAuth})}}),e.createElement(o.a,{path:"/legal",component:function(){return e.createElement(b.a,{showMobileAuth:t.state.showMobileAuth})}}),e.createElement(o.a,{path:"/about",component:function(){return e.createElement(y.a,{showMobileAuth:t.state.showMobileAuth})}}),e.createElement(o.a,{path:"/restaurants",component:function(){return e.createElement(v.a,{restaurants:t.state.definitions.layout.restaurants,showMobileAuth:t.state.showMobileAuth})}}),e.createElement(o.a,{path:"/basket",component:function(){return e.createElement(g.a,{pageTitle:"Pobo - Корзина",recommendations:t.state.recommendations,min_amount_for_delivery:t.state.definitions.orders.min_amount_for_delivery,showMobileAuth:t.state.showMobileAuth,onNavigateRequest:t.onNavigateRequest.bind(t),addToCart:t.addToCart.bind(t),removeFromCart:t.removeFromCart.bind(t),removeAllItemsFromCart:t.removeAllItemsFromCart.bind(t)})}}),e.createElement(o.a,{path:"/payment",component:function(){return e.createElement(_.a,{showMobileAuth:t.state.showMobileAuth,bonus_accrual_percent:t.state.definitions.orders.bonus_accrual_percent,restaurants:t.state.definitions.layout.restaurants,profile:t.state.profile,isAuthorized:t.state.authorization.authorized,setUserProfile:t.setUserProfile.bind(t),setAddresses:t.setAddresses.bind(t),setProfileBonuses:t.setProfileBonuses.bind(t),loadCart:t.loadCart.bind(t),priceCart:t.priceCart.bind(t),doAuth:t.doAuth.bind(t),cloudpaymentsPublicId:t.state.definitions.cloudpaymentsPublicId,dadataToken:t.state.definitions.dadataToken})}}),e.createElement(o.a,{path:"/constructor",component:function(){return e.createElement(N.a,{addToCart:t.addToCart.bind(t),showMobileAuth:t.state.showMobileAuth})}}),e.createElement(o.a,{path:"/status/:id",component:function(){return e.createElement(E.a,{profile:t.state.profile,showMobileAuth:t.state.showMobileAuth,loadCart:t.loadCart.bind(t)})}}),e.createElement(o.a,{path:"/status/",component:function(){return e.createElement(E.a,{profile:t.state.profile,showMobileAuth:t.state.showMobileAuth,loadCart:t.loadCart.bind(t)})}}))),e.createElement(m.a,{showMobileAuth:this.state.showMobileAuth,companyPhone:this.state.definitions.layout.company_phone,socialLinks:this.state.definitions.layout.social_links,authorized:this.state.authorization.authorized,onNavigateRequest:this.onNavigateRequest.bind(this)}))}},{key:"mobileAuth",get:function(){return e.createElement(w.a,{onShowUserProfile:this.showUserProfile.bind(this),profile:this.state.profile})}}])&&D(c.prototype,j),S&&D(c,S),n}();t.a=z}).call(this,n(0))},213:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMjkiIHZpZXdCb3g9IjAgMCAzMiAyOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZD0iTTEyLjg3MDcgMjMuOTk2NEMxNi4wNTI2IDIzLjk5NjQgMTguNjMyIDIxLjQxMDYgMTguNjMyIDE4LjIyMDlDMTguNjMyIDE1LjAzMTEgMTYuMDUyNiAxMi40NDUzIDEyLjg3MDcgMTIuNDQ1M0M5LjY4ODggMTIuNDQ1MyA3LjEwOTM4IDE1LjAzMTEgNy4xMDkzOCAxOC4yMjA5QzcuMTA5MzggMjEuNDEwNiA5LjY4ODggMjMuOTk2NCAxMi44NzA3IDIzLjk5NjRaIiBmaWxsPSIjNDc0QTUxIi8+DQo8cGF0aCBkPSJNMjkuNjY0NSAxMy45NTdIMS44MTkzNUgwVjE0LjQ3NDRDMCAyMi4xNzczIDYuMjUxNjEgMjguNDQ0NCAxMy45MzU1IDI4LjQ0NDRIMTguMDY0NUMyNS43NDg0IDI4LjQ0NDQgMzIgMjIuMTc3MyAzMiAxNC40NzQ0VjEzLjk1N0gyOS42NjQ1WiIgZmlsbD0iIzQ3NEE1MSIvPg0KPHBhdGggZD0iTTUuMzEwMzMgMTQuMTk4NUM2LjA2NTY5IDEzLjAwMjcgNi4xOTMzMiAxMS43MjcxIDUuNTk1MzkgMTEuMzQ5NEM0Ljk5NzQ3IDEwLjk3MTcgMy45MDA0MSAxMS42MzUgMy4xNDUwNSAxMi44MzA4QzIuMzg5NjkgMTQuMDI2NyAyLjI2MjA2IDE1LjMwMjMgMi44NTk5OCAxNS42Nzk5QzMuNDU3OTEgMTYuMDU3NiA0LjU1NDk3IDE1LjM5NDQgNS4zMTAzMyAxNC4xOTg1WiIgZmlsbD0iIzQ3NEE1MSIvPg0KPHBhdGggZD0iTTE3Ljc3OTcgNi4xNTc1NEMyMi45MjUgNC43ODMyNSAyNi4wNTM0IDEuMTY1MDYgMjUuODI0NCAwLjMwNzUwOUMyNS41OTUzIC0wLjU1MDA0MiAyMi4wOTU2IDEuNjc3NzggMTYuOTUwMyAzLjA1MjA4QzExLjgwNSA0LjQyNjM4IDYuOTYyNTIgNC40MjY3NCA3LjE5MTU3IDUuMjg0MjlDNy40MjA2MiA2LjE0MTg0IDEyLjYzNDQgNy41MzE4NCAxNy43Nzk3IDYuMTU3NTRaIiBmaWxsPSIjNDc0QTUxIi8+DQo8cGF0aCBkPSJNMTkuNTUzNiAxMS4yMjczQzIwLjkwMzQgMTIuMTUwNiAyMi4zNzE5IDEyLjM1MTkgMjIuODMzNiAxMS42NzdDMjMuMjk1MiAxMS4wMDIxIDIyLjU3NTIgOS43MDY0NiAyMS4yMjU0IDguNzgzMTRDMTkuODc1NSA3Ljg1OTgzIDE4LjQwNyA3LjY1ODQ2IDE3Ljk0NTMgOC4zMzMzOUMxNy40ODM3IDkuMDA4MzEgMTguMjAzNyAxMC4zMDM5IDE5LjU1MzYgMTEuMjI3M1oiIGZpbGw9IiM0NzRBNTEiLz4NCjxwYXRoIGQ9Ik0yNy44NDIyIDEzLjAyMDJDMjguNDkwNyAxMy4wMjAyIDI5LjAxNjQgMTIuNDkzMiAyOS4wMTY0IDExLjg0MzFDMjkuMDE2NCAxMS4xOTMgMjguNDkwNyAxMC42NjYgMjcuODQyMiAxMC42NjZDMjcuMTkzNyAxMC42NjYgMjYuNjY4IDExLjE5MyAyNi42NjggMTEuODQzMUMyNi42NjggMTIuNDkzMiAyNy4xOTM3IDEzLjAyMDIgMjcuODQyMiAxMy4wMjAyWiIgZmlsbD0iIzQ3NEE1MSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwIj4NCjxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIyOC40NDQ0IiBmaWxsPSJ3aGl0ZSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K"},214:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZD0iTTcuMjQwNzMgMTMuNDk3NUM5LjAzMDU0IDEzLjQ5NzUgMTAuNDgxNSAxMi4wNDMgMTAuNDgxNSAxMC4yNDg4QzEwLjQ4MTUgOC40NTQ1MiA5LjAzMDU0IDcgNy4yNDA3MyA3QzUuNDUwOTIgNyA0IDguNDU0NTIgNCAxMC4yNDg4QzQgMTIuMDQzIDUuNDUwOTIgMTMuNDk3NSA3LjI0MDczIDEzLjQ5NzVaIiBmaWxsPSIjRkRGREZEIi8+DQo8cGF0aCBkPSJNMTYuNjg2MyA3Ljg1MTU2SDEuMDIzMzlIMFY4LjE0MjZDMCAxMi40NzU1IDMuNTE2NTMgMTYuMDAwNyA3LjgzODcxIDE2LjAwMDdIMTAuMTYxM0MxNC40ODM1IDE2LjAwMDcgMTggMTIuNDc1NSAxOCA4LjE0MjZWNy44NTE1NkgxNi42ODYzWiIgZmlsbD0iI0ZERkRGRCIvPg0KPHBhdGggZD0iTTIuOTg3MzEgNy45ODY5MUMzLjQxMjIgNy4zMTQyNCAzLjQ4Mzk5IDYuNTk2NzIgMy4xNDc2NSA2LjM4NDI3QzIuODExMzIgNi4xNzE4MyAyLjE5NDIzIDYuNTQ0OTEgMS43NjkzMyA3LjIxNzU4QzEuMzQ0NDQgNy44OTAyNCAxLjI3MjY1IDguNjA3NzcgMS42MDg5OSA4LjgyMDIxQzEuOTQ1MzIgOS4wMzI2NiAyLjU2MjQxIDguNjU5NTggMi45ODczMSA3Ljk4NjkxWiIgZmlsbD0iI0ZERkRGRCIvPg0KPHBhdGggZD0iTTEwLjAwMjEgMy40NjMxM0MxMi44OTYzIDIuNjkwMDkgMTQuNjU2IDAuNjU0ODU4IDE0LjUyNzIgMC4xNzI0ODVDMTQuMzk4MyAtMC4zMDk4ODcgMTIuNDI5NyAwLjk0MzI2MyA5LjUzNTUgMS43MTYzMUM2LjY0MTI3IDIuNDg5MzUgMy45MTczOSAyLjQ4OTU1IDQuMDQ2MjMgMi45NzE5MkM0LjE3NTA3IDMuNDU0MyA3LjEwNzg0IDQuMjM2MTcgMTAuMDAyMSAzLjQ2MzEzWiIgZmlsbD0iI0ZERkRGRCIvPg0KPHBhdGggZD0iTTExLjAwMDggNi4zMTUyMUMxMS43NjAxIDYuODM0NTggMTIuNTg2MiA2Ljk0Nzg1IDEyLjg0NTggNi41NjgyQzEzLjEwNTUgNi4xODg1NiAxMi43MDA1IDUuNDU5NzYgMTEuOTQxMiA0Ljk0MDRDMTEuMTgxOSA0LjQyMTAzIDEwLjM1NTkgNC4zMDc3NiAxMC4wOTYyIDQuNjg3NDFDOS44MzY1MiA1LjA2NzA1IDEwLjI0MTUgNS43OTU4NSAxMS4wMDA4IDYuMzE1MjFaIiBmaWxsPSIjRkRGREZEIi8+DQo8cGF0aCBkPSJNMTUuNjYwNSA3LjMyNDI0QzE2LjAyNTMgNy4zMjQyNCAxNi4zMjEgNy4wMjc4IDE2LjMyMSA2LjY2MjEyQzE2LjMyMSA2LjI5NjQ0IDE2LjAyNTMgNiAxNS42NjA1IDZDMTUuMjk1NyA2IDE1IDYuMjk2NDQgMTUgNi42NjIxMkMxNSA3LjAyNzggMTUuMjk1NyA3LjMyNDI0IDE1LjY2MDUgNy4zMjQyNFoiIGZpbGw9IiNGREZERkQiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},218:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(219),i=n.n(o),s=n(5),c=n.n(s),l=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n,a,r,o,i,s,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=f(t).call(this,e),n=!r||"object"!==u(r)&&"function"!=typeof r?h(a):r,i=h(n),s="loadMore",o=regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1,2,t=n.state.page,a="/pages/category?category_id=".concat(1,"&page=").concat(t,"&page_size=").concat(2),e.next=6,Object(l.j)(a);case 6:r=e.sent,n.setState({articles:[].concat(m(n.state.articles),m(r.data.result.items)),total:r.data.result.total,page:t+1});case 8:case"end":return e.stop()}},e)}),c=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=o.apply(e,t);function i(e){p(r,n,a,i,s,"next",e)}function s(e){p(r,n,a,i,s,"throw",e)}i(void 0)})},s in i?Object.defineProperty(i,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[s]=c,n.state={articles:[],page:1,total:0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement("main",{className:c()("page container",{"hide-element":this.props.showMobileAuth})},r.a.createElement("div",{className:"page__container market-section"},r.a.createElement("h1",{className:"page__title container market-section market-section__title"},"Акции"),r.a.createElement(i.a,{pageStart:1,loadMore:this.loadMore,hasMore:this.hasMore,loader:r.a.createElement("div",{className:"loader",key:0},"Loading ...")},r.a.createElement("div",{className:"sales__list"},this.articlesContent))))}},{key:"renderArticle",value:function(e){return r.a.createElement("article",{className:"sales__item sale",key:e.id},r.a.createElement("a",{className:"sale__link",href:"#"},r.a.createElement("img",{className:"sale__img",src:e.image,alt:""}),r.a.createElement("div",{className:"sale__content"},r.a.createElement("div",{className:"sale__title"},e.title),r.a.createElement("div",{className:"sale__text"},e.introtext))))}},{key:"articlesContent",get:function(){var e=this;return this.state.articles.map(function(t){return e.renderArticle(t)})}},{key:"hasMore",get:function(){return!this.state.total||this.state.total>this.state.articles.length}}])&&d(n.prototype,a),o&&d(n,o),t}();t.a=y},220:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o),s=n(2);n(563);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,n,a,r,o,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return a=this,n=!(r=(e=m(t)).call.apply(e,[this].concat(u)))||"object"!==c(r)&&"function"!=typeof r?p(a):r,o=p(n),s={page:""},(i="state")in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,n}var n,a,o,f,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:(f=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.j)("/pages/item?id=6");case 2:t=e.sent,n=t.data.result.description,this.setState({page:n});case 5:case"end":return e.stop()}},e,this)}),h=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=f.apply(e,t);function o(e){l(r,n,a,o,i,"next",e)}function i(e){l(r,n,a,o,i,"throw",e)}o(void 0)})},function(){return h.apply(this,arguments)})},{key:"render",value:function(){return r.a.createElement("main",{className:i()("page container",{"hide-element":this.props.showMobileAuth})},r.a.createElement("div",{className:"page__container"},r.a.createElement("div",{className:"legal_agreement_container"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.page}}))))}}])&&u(n.prototype,a),o&&u(n,o),t}();t.a=f},221:function(e,t,n){e.exports=n.p+"assets/img/rest1.jpg"},223:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxMiAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0wIDguNTk0NzNIMi43OTA3VjE2LjkxOTNIMFY4LjU5NDczWiIgZmlsbD0iIzNEM0IzQiIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDUuNjA4NDhDNy43NzI0NSA1LjYwODQ4IDkuMjA5MyA3LjAwNjExIDkuMjA5MyA4LjczMDE4QzkuMjA5MyAxMC40NTQyIDcuNzcyNDUgMTEuODUxOSA2IDExLjg1MTlDNC4yMjc1NSAxMS44NTE5IDIuNzkwNyAxMC40NTQyIDIuNzkwNyA4LjczMDE4QzIuNzkwNyA3LjAwNjExIDQuMjI3NTUgNS42MDg0OCA2IDUuNjA4NDhaTTYgMi44OTM5NUM5LjMxMzcxIDIuODkzOTUgMTIgNS41MDY5MiAxMiA4LjczMDE4QzEyIDExLjk1MzQgOS4zMTM3MSAxNC41NjY0IDYgMTQuNTY2NEMyLjY4NjI5IDE0LjU2NjQgMCAxMS45NTM0IDAgOC43MzAxOEMwIDUuNTA2OTIgMi42ODYyOSAyLjg5Mzk1IDYgMi44OTM5NVoiIGZpbGw9IiMzRDNCM0IiLz4NCjxwYXRoIGQ9Ik0wIDguODY1MjNIMi43OTA3VjAuNTQwNjkxSDBWOC44NjUyM1oiIGZpbGw9IiMzRDNCM0IiLz4NCjwvc3ZnPg0K"},224:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDggMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMCA1LjczMDQ3SDEuODYwNDdWMTEuMjgwMkgwVjUuNzMwNDdaIiBmaWxsPSIjM0QzQjNCIi8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQgMy43Mzg5OEM1LjE4MTYzIDMuNzM4OTggNi4xMzk1MyA0LjY3MDc0IDYuMTM5NTMgNS44MjAxMkM2LjEzOTUzIDYuOTY5NSA1LjE4MTYzIDcuOTAxMjUgNCA3LjkwMTI1QzIuODE4MzcgNy45MDEyNSAxLjg2MDQ3IDYuOTY5NSAxLjg2MDQ3IDUuODIwMTJDMS44NjA0NyA0LjY3MDc0IDIuODE4MzcgMy43Mzg5OCA0IDMuNzM4OThaTTQgMS45MjkzQzYuMjA5MTQgMS45MjkzIDggMy42NzEyOCA4IDUuODIwMTJDOCA3Ljk2ODk2IDYuMjA5MTQgOS43MTA5NCA0IDkuNzEwOTRDMS43OTA4NiA5LjcxMDk0IDAgNy45Njg5NiAwIDUuODIwMTJDMCAzLjY3MTI4IDEuNzkwODYgMS45MjkzIDQgMS45MjkzWiIgZmlsbD0iIzNEM0IzQiIvPg0KPHBhdGggZD0iTTAgNS45MTAxNkgxLjg2MDQ3VjAuMzYwNDYxSDBWNS45MTAxNloiIGZpbGw9IiMzRDNCM0IiLz4NCjwvc3ZnPg0K"},225:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAA9CAQAAACqopnRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDoAABSCAABFVgAADqXAAAXb9daH5AAAAK4SURBVHjatNhPSBRRHMDx746ZsOWfTIOkVAwrKbS08i9J5aFL4aFOHYIyOpRQ1EGI6OChW0XQobwZRCHYH8iwyyIS1sH+qFSb6XqoCEXIhEU33ddhd915M+OusvN7v9PCm/3Me/Peb37zIPVWxHXeMk83Yq2ERyygUCieyRAeLhOMEgrFAwlkLY9NhELR6j6SxlMLotjlPnPThgy7j9SyaGPOuc+8syF+0t1GDtuQBQ66P5ZOG3NNYrdMW5DbEvulWCPmuSSz92tMiI9yqSy2H4UiQAcNq5lp55ZONdVsJw+DSUbwMbK0//P5S3Cpp0ENTeyjhCzmmGac9/QxiEpG7+Ce7TErxmin1NKzkjv8tPVUKMZpI2t5YiMdS4ndHmHe0EoZmVTQxtCy/SIxxRlnpJFfSS5dbXSxzoqcIuQyolD069CJBJOVWrzAMKJIBZ2kCW2B9WTH3oTDQiMJ005sKFwRQ87HB+VlUojRMneLEPJKzzF9IkiQIjOSK7SQ7+rL7ZjQlJWZEYO9InvFzxedKRVhBvSfBgUizKiVyRZh/liZdBFmjZVZEGHyrcysCLPTykyKMPV6ojGYEGE2U6czfqGX2UX95wGhZLNIlZnJYE4I+kiGGeoXYhQPYwshDdjCIaHnU04BPbEyt1JsNArFazbF1O+i0BQtkdosj0a58xa8HPdEv8DG4tWURIv8+QQ9kgjh+LeA5NN5Ll1GRaI2zjSIIS/1GXwigvyznkxtZUaAuWVfEWddR0bxOi29bpcnrM55hecSkPrw0FuVdkyaSvQkziwnHc7+Vh+fyUmWHC4QThEJULiSM5vT3NdfsQCE8NHLEL8Jkck26mim2OHqQZr5sbJ0t4cB7f6+ctVaSwIemujSqokZbthv0JPwdKqeoxQS5Bs+PiTomcMRdrOBWT7R61TH/h8AOTE+LUF77ccAAAAASUVORK5CYII="},226:function(e,t,n){e.exports=n.p+"assets/img/google-icon.png"},227:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(2),i=n(17),s=n(45);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,m(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement("main",{className:"page mobile-page"},r.a.createElement("div",{className:"container"},this.props.profile.phone?this.profileInfo:this.enterButton))}},{key:"enterButton",get:function(){var e=this,t="Войдите в свой аккаунт";return r.a.createElement(i.a,{buttonType:"default",buttonTitle:t,buttonClass:"btn mobile-auth-btn",type:"button",onClickMethod:function(){e.props.onShowUserProfile(),Object(o.c)("micro")}},t)}},{key:"profileInfo",get:function(){return r.a.createElement("a",{className:"inf-block-link",href:"#/cabinet",onClick:this.props.onShowUserProfile},r.a.createElement("div",{className:"inf-block"},r.a.createElement("div",{className:"mobile-inf"},this.props.profile.firstname),r.a.createElement("div",{className:"mobile-inf"},"+",this.props.profile.phone),r.a.createElement("div",{className:"mobile-inf mobile-bonuses"},"Побо-бонусов",r.a.createElement("span",{className:"mobile-inf mobile-bonuses-count"},this.props.profile.bonuses),r.a.createElement(s.a,null))))}}])&&l(n.prototype,a),c&&l(n,c),t}();t.a=d},229:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o),s=n(113),c=n.n(s),l=n(60),u=n(2),m=n(45),p=n(114),d=function(){return r.a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.50176 18.2578C8.50176 18.666 8.16777 19 7.75957 19H0.742188C0.333984 19 0 18.666 0 18.2578V0.742188C0 0.333984 0.333984 0 0.742188 0H7.75957C8.16777 0 8.50176 0.333984 8.50176 0.742188C8.50176 1.15039 8.16777 1.48438 7.75957 1.48438H1.48438V17.5156H7.75957C8.17148 17.5156 8.50176 17.8496 8.50176 18.2578Z",fill:"#8DD161"}),r.a.createElement("path",{d:"M18.7848 8.97646L14.584 4.77568C14.2945 4.48623 13.8232 4.48623 13.5338 4.77568C13.2443 5.06514 13.2443 5.53643 13.5338 5.82588L16.4654 8.75752H3.5625C3.1543 8.75752 2.82031 9.0915 2.82031 9.49971C2.82031 9.90791 3.1543 10.2419 3.5625 10.2419H16.4654L13.5338 13.1735C13.2443 13.463 13.2443 13.9343 13.5338 14.2237C13.8232 14.5132 14.2945 14.5132 14.584 14.2237L18.7811 10.0267C18.8813 9.92647 18.9555 9.79287 18.9852 9.64814C19.0334 9.41064 18.9629 9.15459 18.7848 8.97646Z",fill:"#8DD161"}))},f=n(115),h=n(70),b=n(17),y=n(30);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,E(t).call(this,e))).state={email:n.props.email,error:"",edit:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r.a.Component),n=t,(a=[{key:"onChange",value:function(e){this.setState({email:e.currentTarget.value,error:""})}},{key:"onEditToggle",value:function(e){var t=this;this.setState({edit:e,error:""},function(){t.state.edit&&Object(u.d)("email")})}},{key:"onSave",value:function(e){var t=this;e.preventDefault();var n=this;Object(u.n)("/profile/email",{email:this.state.email}).then(function(e){if(!0===e.data.success)n.props.setEmail(t.state.email),n.props.setProfileEmail(e.data.result.email,e.data.result.email_confirmed,e.data.result.email_subscribed),n.onEditToggle(!1);else if(e.data.errors){var a=e.data.errors.map(function(e){return e.message}).join(" ");n.setState({edit:!0,error:a},function(){t.state.edit&&Object(u.d)("email")})}})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"input-stroke"},"payment"===this.props.mode?this.chooseElement:this.header,r.a.createElement("div",{className:i()({"input-stroke__container":this.state.edit})},r.a.createElement("input",{type:"text",className:i()({"personal-input":this.state.edit},{"personal-input_hidden":!this.state.edit}),id:"email",name:"email",readOnly:!this.state.edit,autoComplete:"off",value:this.state.email,onChange:function(t){e.onChange(t)}}),r.a.createElement(y.a,{error:this.state.error})),r.a.createElement("div",{className:i()({"hide-element":!this.state.edit,"input-stroke__container":this.state.edit})},r.a.createElement(b.a,{className:i()({fade:this.state.edit}),buttonType:"default",buttonTitle:"Сохранить",buttonClass:"personal-button",onClickSubmit:!0,onClickMethod:this.onSave.bind(this)})),r.a.createElement("div",{className:i()("edit-icon",{"hide-element":this.state.edit}),onClick:function(){e.onEditToggle("email")}},r.a.createElement(l.a,null)))}},{key:"chooseElement",get:function(){var e=this;return r.a.createElement("input",{type:"checkbox",id:"address",name:"address",className:"as-radio",onChange:function(t){e.props.setEmail(t.currentTarget.checked?e.state.email:"")}})}},{key:"header",get:function(){return r.a.createElement("div",{className:"input-stroke__label"},"E-mail")}}])&&g(n.prototype,a),o&&g(n,o),t}(),k=function(){return r.a.createElement("svg",{width:"25",height:"14",viewBox:"0 0 25 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{y:"10.7539",width:"24.2",height:"2.68889",rx:"1",fill:"#3D3B3B"}),r.a.createElement("rect",{y:"5.37695",width:"24.2",height:"2.68889",rx:"1",fill:"#3D3B3B"}),r.a.createElement("rect",{width:"24.2",height:"2.68889",rx:"1",fill:"#3D3B3B"}))};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,M(t).call(this,e))).state={isOpen:n.props.isExpand},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r.a.Component),n=t,(a=[{key:"toggleSection",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",{className:"previous-order"},r.a.createElement("div",{className:"previous-order__inf"},r.a.createElement("div",{className:"previous-order__date"},this.props.item.order_date),r.a.createElement("div",{className:"previous-order__number"},"№",this.props.item.order_number),r.a.createElement("div",{className:"previous-order__price"},Object(u.e)(parseInt(this.props.item.total,10)))),r.a.createElement("div",{className:"previous-order__controls"},r.a.createElement("div",{className:"burger-wrapper",onClick:this.toggleSection.bind(this)},r.a.createElement(k,null)),r.a.createElement("div",{className:"description"},this.props.item.items.length," позиций")),this.state.isOpen&&this.props.item.items.map(function(e,t){return r.a.createElement("div",{key:"orderItem"+e.id,className:"order__order-item"},r.a.createElement("div",{className:"order__item-container"},r.a.createElement("div",{className:"order__item-title"},e.title),r.a.createElement("div",{className:"order__item-desc"},e.description)),r.a.createElement("div",{className:"order__price"},Object(u.e)(parseInt(e.price,10)||e.amount)))}),this.state.isOpen&&this.button)}},{key:"button",get:function(){var e=this;return r.a.createElement("div",{className:"button-container"},r.a.createElement(b.a,{buttonType:"default",buttonTitle:"Повторить заказ",buttonClass:"personal-button order-button",onClickMethod:function(){e.props.repeateOrder(e.props.item.id)},onClickSubmit:!0}))}}])&&j(n.prototype,a),o&&j(n,o),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,P(t).call(this,e))).state={orders:n.props.orders,ordersPage:1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r.a.Component),n=t,(a=[{key:"loadMoreOrders",value:function(){var e=this,t=this;Object(u.j)("/order/list/?page="+(this.state.ordersPage+1)).then(function(n){if(n.data.success){var a=e.state.orders.slice();t.setState({ordersPage:e.state.ordersPage+1,orders:a.concat(n.data.result.items)})}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.orders&&this.state.orders.map(function(t,n){return r.a.createElement(A,{key:"order"+t.order_number,isExpand:0===n,item:t,repeateOrder:e.props.repeateOrder.bind(e)})}),this.state.orders?this.button:"")}},{key:"button",get:function(){var e=this;return r.a.createElement(b.a,{buttonType:"default",buttonTitle:"Ещё заказы",buttonClass:"personal-button_light load-more-button",onClickMethod:function(){e.loadMoreOrders()},onClickSubmit:!0})}}])&&T(n.prototype,a),o&&T(n,o),t}(),L=n(90),U=n.n(L);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=this,r=(e=R(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==H(r)&&"function"!=typeof r?B(a):r,V(B(n),"state",{birthday:null===n.props.birthday?"":n.props.birthday}),V(B(n),"updateBirthday",function(e){n.setState({birthday:e.target.value})}),V(B(n),"onSaveBirthday",function(e){e.preventDefault(),Object(u.n)("/profile/birthday",{birthday:n.state.birthday}).then(function(e){if(e&&e.data&&e.data.success)n.props.setUserProfile(e.data.result);else if(e.data.errors){var t=e.data.errors.map(function(e){return e.message}).join(" ");n.setState({edit:!0,error:t},function(){n.state.edit&&Object(u.d)("birthday")})}})}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r.a.Component),n=t,(a=[{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}},{key:"render",value:function(){return r.a.createElement("form",{className:"input-stroke"},r.a.createElement("div",{className:"input-stroke__label"},"День рождения"),null!==this.props.birthday&&r.a.createElement("input",{type:"text",className:"personal-input_hidden",id:"birthday_static",name:"birthday_static",autoComplete:"off",onChange:function(){},value:this.props.birthday}),null===this.props.birthday&&r.a.createElement("div",{className:"input-stroke__container "},r.a.createElement(U.a,{mask:"99.99.9999",value:this.state.birthday,onChange:this.updateBirthday,alwaysShowMask:!0,className:"personal-input",id:"birthday"}),r.a.createElement(y.a,{error:this.state.error})),null===this.props.birthday&&r.a.createElement("div",{className:"input-stroke__container"},r.a.createElement(b.a,{buttonType:"default",buttonTitle:"Сохранить",buttonClass:"personal-button",onClickSubmit:!0,onClickMethod:this.onSaveBirthday})),r.a.createElement("div",{className:"input-stroke__label_desc"},"В день рождения мы дарим скидки и подарки. Дата вводится один раз без возможности изменения в дальнейшем."))}}])&&Z(n.prototype,a),o&&Z(n,o),t}();F.defaultProps={birthday:void 0};var G=F;function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function J(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,K(t).call(this,e))).state={birthday:n.props.profile.birthday?n.stringToDate(n.props.profile.birthday):"",phone:{edit:!1,value:n.props.profile.phone},name:{edit:!1,value:n.props.profile.firstname,error:""},cards:n.props.profile.cards?n.props.profile.cards:[],email:n.props.profile.email,emailConfirmed:n.props.profile.email_confirmed,emailSubscribed:n.props.profile.email_subscribed,bonuses:n.props.profile.bonuses,orders:n.props.profile.orders?n.props.profile.orders:[],profile:n.props.profile},n}var n,a,o,s,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillMount",value:function(){this.setState({phoneNumber:this.props.phoneNumber})}},{key:"repeateOrder",value:function(e){var t=this;Object(u.j)("/order/get?id="+e).then(function(e){t.props.loadCart(e.data.result.order.items),window.location.href="#/basket"})}},{key:"renderOrders",value:function(){return r.a.createElement(z,{orders:this.state.orders.items?this.state.orders.items:[],repeateOrder:this.repeateOrder.bind(this)})}},{key:"getUserProfile",value:(s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},"function"!=typeof this.props.getUserProfile){e.next=6;break}return e.next=4,this.props.getUserProfile();case 4:t=e.sent,this.props.setUserProfile(Object.assign(!0,this.state.profile,t));case 6:case"end":return e.stop()}},e,this)}),v=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=s.apply(e,t);function o(e){q(r,n,a,o,i,"next",e)}function i(e){q(r,n,a,o,i,"throw",e)}o(void 0)})},function(){return v.apply(this,arguments)})},{key:"setUserProfile",value:function(e){"function"==typeof this.props.setUserProfile&&this.props.setUserProfile(Object.assign(!0,this.state.profile,e))}},{key:"onSavePhoneEdit",value:function(e){e&&!0===e.success&&this.setUserProfile(e.result)}},{key:"onCancelPhoneEdit",value:function(){var e=Object.assign({},this.state.phone);e.edit=!1,this.setState({phone:e})}},{key:"onSaveName",value:function(e){var t=this;e.preventDefault();var n=this;Object(u.n)("/profile/username",{firstname:this.state.name.value}).then(function(e){if(n.onEditFinish("name"),e&&e.data)if(!0===e.data.success)n.setUserProfile(e.data.result);else if(e.data.errors){var a=e.data.errors.map(function(e){return e.message}).join(" ");t.onEditError("name",a)}})}},{key:"onSaveEmail",value:function(e){this.setState({email:e})}},{key:"saveEmailSubscribe",value:function(e){var t=this;Object(u.n)("/profile/subscribe",{email_subscribed:e.currentTarget.checked}).then(function(e){e&&e.data&&e.data.success&&t.setUserProfile(e.data.result)})}},{key:"stringToDate",value:function(e){var t=new Date;if(e){var n=e.split(".");if(n&&n.length){var a=parseInt(n[2],10),r=parseInt(n[1],10)-1,o=parseInt(n[0]);t=new Date(a,r,o)}}return t}},{key:"onEditStart",value:function(e){var t=Object.assign({},this.state[e]),n={};t.edit=!0,t.error="",n[e]=t,this.setState(Object.assign({},n)),Object(u.d)(e)}},{key:"onEditError",value:function(e,t){var n=Object.assign({},this.state[e]),a={};n.edit=!0,n.error=t,a[e]=n,this.setState(Object.assign({},a)),Object(u.d)(e)}},{key:"onEditFinish",value:function(e){var t=Object.assign({},this.state[e]),n={};t.edit=!1,t.error="",n[e]=t,this.setState(Object.assign({},n))}},{key:"changeField",value:function(e,t){var n=Object.assign({},this.state);n[t].value=e.target.value,this.setState(n)}},{key:"logout",value:function(){this.props.logout()}},{key:"removeCard",value:function(e){var t=this,n=this;Object(u.n)("/cards/revoke",{id:e}).then(function(a){if(a.data.success){var r=t.state.cards.slice(),o=-1;r.map(function(t,n){t.id===e&&(o=n)}),r.splice(o,1),n.setState({cards:r})}})}},{key:"renderCards",value:function(){var e=this;return this.state.cards&&this.state.cards.length>0?r.a.createElement("div",{className:"inf-block my-cards"},r.a.createElement("h2",{className:"inf-block__title"},"Мои карты"),r.a.createElement("ul",{className:"personal__cards"},this.state.cards.map(function(t){return r.a.createElement("li",{key:"card"+t.id,className:"personal__card"},r.a.createElement("span",{className:"personal__card-remove",onClick:function(){e.removeCard(t.id)}},r.a.createElement(p.a,null)),r.a.createElement(c.a,{id:t.brand,style:{width:80},className:"personal__card-icon"}),r.a.createElement("div",{className:"personal__card-title"},"**** ",t.number))}))):""}},{key:"renderBonuses",value:function(){return r.a.createElement("div",{className:"bonuses"},r.a.createElement("div",{className:"inf-block-bonuses"},r.a.createElement("div",{className:"inf-block-bonuses__title"},"Побо-бонусы"),r.a.createElement("div",{className:"bonuses__container"},r.a.createElement("div",{className:"bonuses__value"},this.state.bonuses," ",r.a.createElement(m.a,null))),r.a.createElement("div",{className:"bonuses-desc"},"Побо-бонусами можно оплатить 50% заказа. Бонусы сгорают через полгода бездействия.")))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:i()({"hide-element":this.props.showMobileAuth})},r.a.createElement(h.a,{modalTitle:"Изменение номера телефона",modalText:"Укажите телефон, куда прислать СМС с кодом подтверждения",modalDescription:"",requestAuthCodeApi:"/profile/phone",confirmAuthCodeApi:"/profile/phone-confirm",isOpen:this.state.phone.edit,phoneNumber:this.state.phone.value,onSuccess:this.onSavePhoneEdit.bind(this),onClose:this.onCancelPhoneEdit.bind(this)}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mobile-only"},r.a.createElement("h2",{className:"page__title"},"Личный кабинет ",r.a.createElement("span",{className:"logout-button",onClick:this.logout.bind(this)},r.a.createElement(d,null)))),r.a.createElement("div",{className:"personal-area"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"mobile-only"},this.renderBonuses()),r.a.createElement("div",{className:"inf-block"},r.a.createElement("h2",{className:"inf-block__title"},"Личная информация",r.a.createElement("span",{className:"logout-button",onClick:this.logout.bind(this)},r.a.createElement(d,null))),r.a.createElement("form",{className:"input-stroke"},r.a.createElement("div",{className:"input-stroke__label"},"Имя"),r.a.createElement("div",{className:i()({"input-stroke__container":this.state.name.edit})},r.a.createElement("input",{type:"text",className:i()({"personal-input":this.state.name.edit},{"personal-input_hidden":!this.state.name.edit}),id:"name",name:"name",autoComplete:"off",readOnly:!this.state.name.edit,value:this.state.name.value,onChange:function(t){e.changeField(t,"name")}}),r.a.createElement(y.a,{error:this.state.name.error})),r.a.createElement("div",{className:i()({"hide-element":!this.state.name.edit,"input-stroke__container":this.state.name.edit})},r.a.createElement(b.a,{buttonType:"default",buttonTitle:"Сохранить",buttonClass:"personal-button",onClickSubmit:!0,onClickMethod:this.onSaveName.bind(this)})),r.a.createElement("div",{className:"edit-icon",onClick:function(){e.onEditStart("name")}},r.a.createElement("div",{className:i()({"hide-element":this.state.name.edit})},r.a.createElement(l.a,null)))),r.a.createElement("form",{className:"input-stroke"},r.a.createElement("div",{className:"input-stroke__label"},"Номер телефона"),r.a.createElement("input",{type:"text",className:"personal-input_hidden",id:"phone",name:"phone",readOnly:!this.state.phone.edit,autoComplete:"off",value:this.state.phone.value,onChange:function(t){e.changeField(t,"phone")}}),r.a.createElement("div",{className:i()("edit-icon",{"hide-element":this.state.phone.edit}),onClick:function(){e.onEditStart("phone")}},r.a.createElement(l.a,null))),r.a.createElement(w,{setProfileEmail:this.props.setProfileEmail.bind(this),setEmail:this.onSaveEmail.bind(this),email:this.state.email,mode:"cabinet"}),r.a.createElement(G,{setUserProfile:this.setUserProfile.bind(this),birthday:this.props.profile.birthday}),r.a.createElement("form",{className:"input-stroke"},r.a.createElement("div",{className:"input-stroke__label input-stroke__label_mailing"},"Рассылка"),r.a.createElement("input",{className:"checkbox",id:"cbx",type:"checkbox",disabled:!this.state.emailConfirmed,checked:this.state.emailSubscribed,onChange:this.saveEmailSubscribe.bind(this)}),r.a.createElement("label",{className:"cbx",htmlFor:"cbx"},r.a.createElement("span",{className:"input-stroke__label"},"Подписаться на акции")))),r.a.createElement(f.a,{mode:"cabinet",setAddresses:this.props.setAddresses.bind(this),addresses:this.state.profile.addresses,dadataToken:this.props.dadataToken}),this.renderCards()),r.a.createElement("div",{className:"sidebar"},this.renderBonuses(),r.a.createElement("div",{className:"history-orders"},r.a.createElement("div",{className:"history-orders__title"},"Мои заказы"),this.renderOrders())))))}}])&&W(n.prototype,a),o&&W(n,o),t}();$.defaultProps={dadataToken:void 0};t.a=$},230:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o),s=n(113),c=n.n(s),l=n(115),u=n(2),m=n(116),p=n(45),d=n(70),f=n(30);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return e.slots!==this.props.slots}},{key:"render",value:function(){var e=this.props,t=e.setAsap,n=e.slots,a=e.schedule;if(!n)return null;var o=a.slice(0,2),i=a.slice(3,5),s=new Date;return s.setHours(o,i,0),(new Date).valueOf()<s.valueOf()?null:r.a.createElement("li",null,r.a.createElement("input",{type:"radio",id:"delivery-asap",name:"delivery",value:"asap",onChange:t}),r.a.createElement("label",{htmlFor:"delivery-asap"},"Как можно скорее"))}}])&&b(n.prototype,a),o&&b(n,o),t}();_.defaultProps={slots:0};var E=_;n(573);var N=function(e){var t=e.changePersonCount,n=e.cuttlery_quantity;return r.a.createElement("div",{className:"payment__block payment__block--half"},r.a.createElement("div",{className:"payment__block-person-count-container"},r.a.createElement("div",{className:"payment__block-title"},"Количество персон"),r.a.createElement("input",{className:"payment__block-input",type:"number",defaultValue:n,onChange:t})))},w=n(223),k=n.n(w),C=n(224),j=n.n(C);n(574);var O=function(e){var t=e.children,n=e.id,a=e.onChange;return r.a.createElement("span",{className:"fake-checkbox"},r.a.createElement("input",{type:"checkbox",className:"fake-checkbox__input",id:n,onChange:a}),r.a.createElement("label",{className:"fake-checkbox__label",htmlFor:n},t))};n(575);function M(e){var t=e.setDueBonus,n=e.bonuses;return r.a.createElement("div",null,r.a.createElement("div",{className:"spend-points__title-container"},r.a.createElement(O,{id:"spend-points",onChange:t}),r.a.createElement("div",{className:"spend-points__title"},"Потратить баллы",r.a.createElement("span",{className:"spend-points-bonuses-mobile"},r.a.createElement("span",{className:"spend-points-bonuses-mobile__amount"},n),r.a.createElement("img",{src:j.a,alt:""})))),r.a.createElement("div",{className:"spend-points-bonuses"},r.a.createElement("div",{className:"spend-points-bonuses__desctop"},r.a.createElement("span",{className:"spend-points-bonuses__amount"},n),r.a.createElement("img",{src:k.a,alt:""})),r.a.createElement("div",{className:"spend-points-bonuses__hint"},"Побо-бонусами можно оплатить 50% от суммы заказа")))}M.defaultProps={bonuses:void 0};var S=M;n(576);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return a=this,o=(e=T(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==A(o)&&"function"!=typeof o?I(a):o,x(I(n),"state",{processing:!1,errors:null,discount:null,hint:null,code:null}),x(I(n),"code",r.a.createRef()),x(I(n),"sendCode",function(){var e=n.code.current.value;if(!e)return n.setState({errors:[{message:"Поле не должно быть пустым"}],hint:"err"}),null;if(e===n.state.code)return null;var t=n.props.paramsForOrder();t.promocode=e,n.setState({processing:!0}),Object(u.n)("/order/validate-promocode",t).then(function(t){if(t.data.success){var a=t.data.result.order,r=a.total_due,o=a.total;n.props.setDuePromo(r),n.props.setPromocode(e),n.setState({hint:"discount",discount:(o-r)/o*100})}else n.setState({errors:t.data.errors,hint:"err"}),n.props.setDuePromo(!1),n.props.setPromocode(null);n.setState({processing:!1,code:e})})}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=!0===this.state.processing,t=this.state,n=t.hint,a=t.discount,o=t.errors;return r.a.createElement("div",{className:"promo"},r.a.createElement("h3",{className:"promo__mobile-title"},"У меня есть промокод"),r.a.createElement("h3",{className:"spend-points__title"},"Eсть промокод"),r.a.createElement("div",{className:"promo__container ".concat(!n&&"own-margin")},r.a.createElement("input",{className:"\n                            ".concat("err"===n&&"error"," \n                            ").concat("discount"===n&&"success"," \n                            ").concat(!n&&"own-margin","\n                        "),ref:this.code,type:"text",placeholder:"Введите промо-код"}),"err"===n&&r.a.createElement("div",{className:"promo__errors"},o.map(function(e){return r.a.createElement(f.a,{key:e.message,error:e.message})})),"discount"===n&&r.a.createElement("div",{className:"promo__discount"},"-",Math.round(10*a)/10,"% на весь заказ"),r.a.createElement("button",{className:"btn ".concat(e&&"loading"," "),type:"button",onClick:this.sendCode},"Применить код")))}}])&&D(n.prototype,a),o&&D(n,o),t}();n(577);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=this,r=(e=H(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==L(r)&&"function"!=typeof r?Z(a):r,B(Z(n),"state",{type:"promo"}),B(Z(n),"choosePromo",function(){n.setState({type:"promo"}),n.props.setDueBonus(!1)}),B(Z(n),"chooseBonus",function(){n.setState({type:"bonus"}),n.props.setDuePromo(!1),n.props.setPromocode(null)}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.setDuePromo,n=e.setDueBonus,a=e.bonuses,o=e.paramsForOrder,i=e.setPromocode;return r.a.createElement("div",{className:"spend-points"},"bonus"===this.state.type&&r.a.createElement("div",null,r.a.createElement(S,{setDueBonus:n,bonuses:a}),r.a.createElement("div",{className:"spend-points__set-type",onClick:this.choosePromo},"У меня есть промокод")),"promo"===this.state.type&&r.a.createElement("div",null,r.a.createElement(z,{paramsForOrder:o,setDuePromo:t,setPromocode:i}),r.a.createElement("div",{className:"spend-points__set-type bonus",onClick:this.chooseBonus},"Потратить баллы")))}}])&&U(n.prototype,a),o&&U(n,o),t}();Q.defaultProps={bonuses:void 0};var V=Q,F=n(225),G=n.n(F),Y=n(226),q=n.n(Y);n(578);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=K(t).call(this,e),n=!r||"object"!==W(r)&&"function"!=typeof r?X(a):r,ee(X(n),"getParamsForOrder",function(){return{bonuses_applied:n.state.bonuses_applied,cuttlery_quantity:n.state.cuttlery_quantity,definitions:n.state.definitions,delivery_details:n.state.delivery_details,delivery_method:n.state.delivery_method,extra:n.state.extra,items:n.state.items,paymentType:n.state.paymentType,payment_details:n.state.payment_details,payment_method:n.state.payment_method,total:n.state.total,total_due:n.state.total_due,promocode:n.state.promocode}}),ee(X(n),"setDuePromo",function(e){n.setState(function(t){return{total_due:e||t.total}})}),ee(X(n),"setPromocode",function(e){n.setState({promocode:e})}),ee(X(n),"setDueBonus",function(e){var t=!!e&&e.currentTarget.checked;n.setState(function(e){var n=e.total,a=0,r=Math.round(e.total/2);return t&&(e.bonuses>r?(n-=r,a=r):(n-=e.bonuses,a=e.bonuses)),{total_due:n,bonuses_applied:a}})}),ee(X(n),"changePersonCount",function(e){n.setState({cuttlery_quantity:+e.target.value})}),n.mounted=!0;var o=Object(u.i)();return n.state={promocode:null,definitions:n.props.definitions,restaurants:n.props.restaurants,bonusAccrualPercent:n.props.bonus_accrual_percent/100,total:Object(u.l)(),isAuthorized:n.props.isAuthorized,showModal:!n.props.isAuthorized,total_due:Object(u.l)(),bonuses_applied:0,items:n.getCartItems(),addresses:n.props.profile.addresses,bonuses:n.props.profile.bonuses,invoiceSend:!1,invoiceEmail:n.props.profile.email,delivery_method:o?o.delivery:1,delivery_details:{comments:"",address:{}},extra:{personal_agreement:!1,subscribe_news:!1},payment_method:-1,payment_details:{save_card:!1,card:!1,invoice_email:n.props.profile.email},cards:[],errors:[],slots:{today:{date:"",slots:[]},tomorrow:{date:"",slots:[]}},card:"",showAllSlots:!1,id:null,processing:!1,cuttlery_quantity:1},n.getCartItems().length||(window.location.hash="#/"),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.getCheckoutTimeAvailable(),this.getCards(),this.setDefaultAddress()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"setDefaultAddress",value:function(){if(1===this.state.delivery_method&&this.state.restaurants){var e=this.state.restaurants.slice();this.setAddress(e[0])}if(2===this.state.delivery_method&&this.state.addresses){var t=this.state.addresses.slice();this.setAddress(t[0])}}},{key:"getCards",value:function(){var e=this;this.mounted&&Object(u.j)("/cards").then(function(t){e.setState({cards:t.data.result})})}},{key:"setCard",value:function(e){this.setState({card:e.currentTarget.value})}},{key:"setSaveCard",value:function(e){var t=Object.assign({},this.state.payment_details);t.save_card=e.currentTarget.checked,this.setState({payment_details:t})}},{key:"setPayment",value:function(e){var t=this,n=e.currentTarget.value,a="card"===n;this.setState({payment_method:a?3:1,paymentType:n},function(){var e=Object.assign({},t.state.payment_details);e.card=a,t.setState({payment_details:e})})}},{key:"setInvoiceSend",value:function(e){var t=Object.assign({},this.state.payment_details);e&&this.state.invoiceEmail?t.invoice_email=this.state.invoiceEmail:t.invoice_email="",this.setState({invoiceSend:e,payment_details:t})}},{key:"setInvoiceEmail",value:function(e){var t=Object.assign({},this.state.payment_details);t.invoice_email=this.state.invoiceSend?e:"",this.setState({invoiceEmail:e,payment_details:t})}},{key:"setExtra",value:function(e,t){var n=Object.assign({},this.state.extra);n[t]=e.currentTarget.checked,this.setState({extra:n})}},{key:"setComments",value:function(e){var t=Object.assign({},this.state.delivery_details);t.comments=e.currentTarget.value,this.setState({delivery_details:t})}},{key:"setTimeslot",value:function(e,t){var n=Object.assign({},this.state.delivery_details);n.date=e,n.time=t,this.setState({delivery_details:n})}},{key:"setAsap",value:function(e){var t=Object.assign({},this.state.delivery_details);t.asap="asap"===e.currentTarget.value,this.setState({delivery_details:t})}},{key:"getCheckoutTimeAvailable",value:function(){var e=this;this.mounted&&Object(u.j)("/checkout/time-available",{}).then(function(t){var n={};t.data.result.map(function(t){e.state.delivery_method===t.type&&(n=t)}),e.setState({slots:n})})}},{key:"getCartItems",value:function(){var e=[];return Object(u.g)().map(function(t){var n=Object.assign({},t.itemData);n.quantity=t.numberItems,e.push(n)}),e}},{key:"checkAndCreateOrder",value:function(){this.checkOrder()&&this.createOrder()}},{key:"checkOrder",value:function(){var e=!1;return this.state.extra.personal_agreement?-1===this.state.payment_method?this.setState({errors:[{message:"Выберите способ оплаты для оформления заказа"}]}):this.state.delivery_details.asap||this.state.delivery_details.time?this.isProcessing||(e=!0):this.setState({errors:[{message:"Выберите время доставки для оформления заказа"}]}):this.setState({errors:[{message:"Для оформления заказа необходимо согласие на обработку персональных данных. Мы запомним ваше имя, номер телефона и адреса доставки, чтобы не указывать их при следующих заказах. Все ваши данные надёжно защищены"}]}),e}},{key:"createOrder",value:function(){var e=this,t=this.getParamsForOrder(),n=null===this.state.id?"create":"update";this.setState({processing:!0}),this.mounted&&Object(u.n)("/order/"+n,t).then(function(t){if(t.data.success){var n=t.data.result,a=parseInt(t.data.result.order.bonuses_applied,10);e.setState({id:n.order.id}),e.state.payment_details.card&&3===e.state.payment_method?""===e.state.card?e.showPayment(n,a):e.createPayment(n.order.id,n.order.total_due,n.customer,a):(e.setCartEmpty(a),e.setState({processing:!1}),window.location.href="#/status/"+n.order.id),Object(u.c)("macro")}else e.setState({errors:t.data.errors}),e.setState({processing:!1})})}},{key:"showPayment",value:function(e,t){var n=new cp.CloudPayments,a=this;n.charge({publicId:this.props.cloudpaymentsPublicId,description:"Заказ N "+e.order.order_number+" от "+e.order.order_date,amount:parseInt(e.order.total_due,10),currency:"RUB",invoiceId:e.order.id,accountId:e.customer.id,email:e.customer.email,requireEmail:!0,data:{order_number:e.order.order_number,order_date:e.order.order_date}},function(){a.setCartEmpty(t),a.setState({processing:!1}),window.location.href="#/status/"+e.order.id},function(){a.setState({processing:!1})})}},{key:"createPayment",value:function(e,t,n,a){var r=this,o={cardId:this.state.card,invoiceId:e,accountId:n.id,amount:parseInt(t,10),email:n.email};this.mounted&&Object(u.n)("/order/pay-one-click",o).then(function(t){t.data.success?(r.setCartEmpty(a),r.setState({processing:!1}),window.location.href="#/status/"+e):(r.setState({errors:t.data.errors}),r.setState({processing:!1}))})}},{key:"setCartEmpty",value:function(e){this.props.loadCart([]),this.props.priceCart(),this.props.setProfileBonuses(this.props.profile.bonuses-e)}},{key:"setAddress",value:function(e){var t=Object.assign(this.state.delivery_details);t.address=e,this.setState({delivery_details:t})}},{key:"setShowAllSlots",value:function(e){this.setState({showAllSlots:!0})}},{key:"onAuth",value:function(e){e&&!0===e.success&&(this.props.doAuth(e),this.onCloseAuth())}},{key:"onCloseAuth",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){return r.a.createElement("main",{className:i()("page payment",{"hide-element":this.props.showMobileAuth})},r.a.createElement(d.a,{modalTitle:"Введите номер телефона",modalText:"Укажите телефон, куда прислать СМС с кодом подтверждения",modalDescription:"Зарегистрируйтесь для оформления заказа",requestAuthCodeApi:"/auth/login-or-register",confirmAuthCodeApi:"/auth/dual-confirm",isOpen:!this.state.isAuthorized&&this.state.showModal,onSuccess:this.onAuth.bind(this),onClose:this.onCloseAuth.bind(this)}),this.state.isAuthorized?this.content:this.register)}},{key:"renderTimeSlots",value:function(e){var t=this,n=this.state.slots[e].slots,a=this.state.slots.today.slots.length,o=1===this.state.delivery_method?"":" payment__timeslot--delivery",i=0,s="today"===e,c=s&&a>12||!s&&a<12;return i=this.state.showAllSlots?n.length:s?a>12?12:a:a?0:12,r.a.createElement("div",null,r.a.createElement("div",{className:"payment__timeslot-container"},n&&n.slice(0,i).map(function(n,a){var i=t.state.delivery_details.time===n&&t.state.delivery_details.date===t.state.slots[e].date;return r.a.createElement("span",{key:"timeslot_".concat(a),className:"payment__timeslot"+o+(i?" payment__timeslot--selected":""),onClick:function(){t.setTimeslot(t.state.slots[e].date,n)}},n)}),c&&!this.state.showAllSlots?r.a.createElement("span",{className:"show-more-slots",onClick:function(){t.setShowAllSlots(e)}},"Eще время >"):""))}},{key:"register",get:function(){return r.a.createElement("div",{className:"page__container container"},"Пожалуйста, зарегистрируйтесь для оформления заказа.")}},{key:"content",get:function(){return r.a.createElement("div",{className:"page__container container"},r.a.createElement("div",{className:"payment__blocks-wrapper left"},r.a.createElement("div",{className:"payment__block"},this.addressesBlockContent),r.a.createElement(N,{cuttlery_quantity:this.state.cuttlery_quantity,changePersonCount:this.changePersonCount}),r.a.createElement(V,{bonuses:this.state.bonuses,setDueBonus:this.setDueBonus,setDuePromo:this.setDuePromo,paramsForOrder:this.getParamsForOrder,setPromocode:this.setPromocode}),r.a.createElement("div",{className:"payment__block-row payment__block"},this.deliveryBlockContent,this.paymentBlockContent),r.a.createElement("div",{className:"payment__block-row payment__block"},this.commentBlockContent,this.checkBlockContent),r.a.createElement("div",{className:"payment__block-row payment__block payment__block--white"},this.bottomBlockContent)),r.a.createElement("div",{className:"payment__blocks-wrapper right"},r.a.createElement("div",{className:"payment__block"},this.basket)),r.a.createElement("div",{className:"mobile-only"},r.a.createElement("h2",{className:"page__title"},"Оплата")))}},{key:"paymentBlockContent",get:function(){return r.a.createElement("div",{className:"col col-2"},r.a.createElement("div",{className:"payment__block-pay-icons"},r.a.createElement("div",{className:"payment__block-title"},"Оплата"),r.a.createElement("img",{src:q.a,alt:""}),r.a.createElement("img",{src:G.a,alt:""})),r.a.createElement("div",{className:"payment__block-content payment-method"},r.a.createElement("ul",null,1===this.state.delivery_method?this.pickupPay:"",r.a.createElement("li",null,r.a.createElement("input",{type:"radio",id:"payment-card",name:"payment-method",value:"card",onClick:this.setPayment.bind(this)}),r.a.createElement("label",{htmlFor:"payment-card"},"Картой на сайте")),"card"===this.state.paymentType?this.cards:""),"card"===this.state.paymentType?this.saveCard:""))}},{key:"saveCard",get:function(){return r.a.createElement("div",{className:"payment__save"},r.a.createElement("input",{type:"checkbox",name:"save-card",id:"save-card",className:"checkbox",onChange:this.setSaveCard.bind(this)}),r.a.createElement("label",{htmlFor:"save-card",className:"payment__save-card"},"Сохранить карту в личном кабинете для быстрой оплаты следующего заказа"))}},{key:"pickupPay",get:function(){return r.a.createElement("li",null,r.a.createElement("input",{type:"radio",id:"on-pickup",name:"payment-method",value:"on-pickup",onClick:this.setPayment.bind(this)}),r.a.createElement("label",{htmlFor:"on-pickup"},"В ресторане"))}},{key:"deliveryBlockContent",get:function(){var e=1===this.state.delivery_method?"Время самовывоза":"Время доставки";return r.a.createElement("div",{className:"col col-2"},r.a.createElement("div",{className:"payment__block-title"},e),r.a.createElement("div",{className:"payment__block-content delivery-method"},r.a.createElement("ul",null,this.props.restaurants.length>0&&r.a.createElement(E,{schedule:this.props.restaurants[0].schedule,slots:this.state.slots.today.slots.length,setAsap:this.setAsap.bind(this)}),r.a.createElement("li",null,r.a.createElement("input",{type:"radio",id:"delivery-to-time",name:"delivery",value:"to-time",onChange:this.setAsap.bind(this)}),r.a.createElement("label",{htmlFor:"delivery-to-time"},"Заказать ко времени"))),!1===this.state.delivery_details.asap?this.timeAvailable:""))}},{key:"commentBlockContent",get:function(){return r.a.createElement("div",{className:"col col-2"},r.a.createElement("div",{className:"payment__block-title"},"Комментарий к заказу"),r.a.createElement("div",{className:"payment__block-content"},r.a.createElement("label",{htmlFor:"comment"},"Ваши пожелания"),r.a.createElement("input",{type:"text",id:"comment",name:"comment",value:this.state.delivery_details.comments,onChange:this.setComments.bind(this)})))}},{key:"errors",get:function(){return this.state.errors.length?r.a.createElement("div",{className:"payment__block1"},this.state.errors.map(function(e,t){return r.a.createElement(f.a,{key:"error_".concat(t),error:e.message})})):""}},{key:"checkBlockContent",get:function(){var e=this;return r.a.createElement("div",{className:"col col-2"},r.a.createElement("div",{className:"payment__block-title"},"Отправить чек"),r.a.createElement("div",{className:"payment__block-content"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:"address",name:"address",className:"as-radio",onChange:function(t){e.setInvoiceSend(t.currentTarget.checked)}}),r.a.createElement("input",{type:"text",className:"payment__block-email",id:"email",name:"email",value:this.state.invoiceEmail,onChange:function(t){e.setInvoiceEmail(t.currentTarget.value)}}))))}},{key:"bottomBlockContent",get:function(){var e=this;return r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"payment__accept"},r.a.createElement("li",{className:"payment__accept_item"},r.a.createElement("input",{type:"checkbox",id:"accept",className:"checkbox",onChange:function(t){e.setExtra(t,"personal_agreement")}}),r.a.createElement("label",{htmlFor:"accept"},"Соглашаюсь на обработку персональных данных на условиях ",r.a.createElement("a",{href:"#/legal"},"пользовательского соглашения"))),r.a.createElement("li",{className:"payment__accept"},r.a.createElement("input",{type:"checkbox",className:"checkbox",id:"subscribe",onChange:function(t){e.setExtra(t,"subscribe_news")}}),r.a.createElement("label",{htmlFor:"subscribe"},"Подписаться на акции"))),this.errors,r.a.createElement("button",{onClick:this.checkAndCreateOrder.bind(this),className:i()("btn",{"payment__button--disable":this.isButtonCreateOrderDisabled},{loading:this.isProcessing})},"Оформить заказ на ",Object(u.e)(this.state.total_due)),r.a.createElement("div",{className:"payment__order_bonuses"},"Будет начислено ",Math.ceil(this.state.total_due*this.state.bonusAccrualPercent)," ",r.a.createElement(p.a,null)))}},{key:"isButtonCreateOrderDisabled",get:function(){return!this.state.extra.personal_agreement||-1===this.state.payment_method||!this.state.delivery_details.asap&&!this.state.delivery_details.time}},{key:"isProcessing",get:function(){return!0===this.state.processing}},{key:"basket",get:function(){return r.a.createElement(m.a,{bonusAccrualPercent:this.state.bonusAccrualPercent,order:this.state.items,total:this.state.total,total_due:this.state.total_due})}},{key:"addressesBlockContent",get:function(){return 1===this.state.delivery_method?this.restaurants:r.a.createElement(l.a,{mode:"payment",addresses:this.state.addresses,setAddresses:this.props.setAddresses.bind(this),setAddress:this.setAddress.bind(this),dadataToken:this.props.dadataToken})}},{key:"cards",get:function(){var e=this;return r.a.createElement("div",null,this.state.cards.map(function(t,n){return r.a.createElement("div",{key:"card_".concat(n),className:"payment__card"},r.a.createElement("input",{type:"radio",id:t.id,name:"cards",value:t.id,onClick:e.setCard.bind(e)}),r.a.createElement("label",{htmlFor:t.id},r.a.createElement(c.a,{id:t.brand,style:{margin:5,width:30},className:"payment__card_icon"})," **** ",t.number))}),r.a.createElement("div",{className:"payment__card"},r.a.createElement("input",{type:"radio",id:"new-card",name:"cards",value:"",onClick:this.setCard.bind(this)}),r.a.createElement("label",{htmlFor:"new-card"},"Новая карта")))}},{key:"restaurants",get:function(){var e=this,t=this.state.restaurants?this.state.restaurants.slice():[];return r.a.createElement("div",{className:"payment__restaurants"},r.a.createElement("h2",{className:"inf-block__title"},"Выберите заведение"),t.map(function(t,n){return r.a.createElement("div",{className:"input-stroke",key:"address_".concat(n)},r.a.createElement("div",{className:"address-container"},r.a.createElement("div",{className:"container-address-title"},r.a.createElement("div",{className:"input-stroke__label address-title"},r.a.createElement("input",{type:"radio",id:"address"+t.id,name:"address",value:t.id,checked:0===n,onChange:function(){e.setAddress(t)}}),r.a.createElement("label",{htmlFor:"address"+t.id},t.address))),r.a.createElement("div",{className:"input-stroke__label address-value"},t.metro),r.a.createElement("div",{className:"input-stroke__label address-value"},t.phone),r.a.createElement("div",{className:"input-stroke__label address-value"},t.schedule)))}))}},{key:"timeAvailable",get:function(){return r.a.createElement("div",{className:"payment__times"},this.renderTimeSlots("today"),this.state.slots.today.length<12||this.state.showAllSlots?r.a.createElement("div",{className:"payment__timeslot-label"},"Оформить отложенный заказ на завтра"):"",this.renderTimeSlots("tomorrow"))}}])&&J(n.prototype,a),o&&J(n,o),t}();te.defaultProps={dadataToken:void 0,cloudpaymentsPublicId:void 0};t.a=te},231:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(109),c=n.n(s),l=function(){return r.a.createElement("svg",{width:"159",height:"51",viewBox:"0 0 159 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4915 34.9645C63.6633 34.9645 67.8558 30.6794 67.8558 25.3935C67.8558 20.1076 63.6633 15.8226 58.4915 15.8226C53.3198 15.8226 49.1272 20.1076 49.1272 25.3935C49.1272 30.6794 53.3198 34.9645 58.4915 34.9645ZM58.4915 43.2871C68.1604 43.2871 75.9987 35.2759 75.9987 25.3935C75.9987 15.5112 68.1604 7.5 58.4915 7.5C48.8226 7.5 40.9844 15.5112 40.9844 25.3935C40.9844 35.2759 48.8226 43.2871 58.4915 43.2871Z",fill:"black"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5071 34.9645C22.6789 34.9645 26.8714 30.6794 26.8714 25.3935C26.8714 20.1076 22.6789 15.8226 17.5071 15.8226C12.3354 15.8226 8.14286 20.1076 8.14286 25.3935C8.14286 30.6794 12.3354 34.9645 17.5071 34.9645ZM17.5071 43.2871C27.1761 43.2871 35.0143 35.2759 35.0143 25.3935C35.0143 15.5112 27.1761 7.5 17.5071 7.5C7.83821 7.5 0 15.5112 0 25.3935C0 35.2759 7.83821 43.2871 17.5071 43.2871Z",fill:"black"}),r.a.createElement("path",{d:"M0 24.9785H8.14286V50.5011H0V24.9785Z",fill:"black"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M141.492 16.0355C146.663 16.0355 150.856 20.3206 150.856 25.6065C150.856 30.8924 146.663 35.1774 141.492 35.1774C136.32 35.1774 132.127 30.8924 132.127 25.6065C132.127 20.3206 136.32 16.0355 141.492 16.0355ZM141.492 7.71291C151.16 7.71291 158.999 15.7241 158.999 25.6065C158.999 35.4888 151.16 43.5 141.492 43.5C131.823 43.5 123.984 35.4888 123.984 25.6065C123.984 15.7241 131.823 7.71291 141.492 7.71291Z",fill:"black"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.507 16.0355C105.679 16.0355 109.871 20.3206 109.871 25.6065C109.871 30.8924 105.679 35.1774 100.507 35.1774C95.3354 35.1774 91.1429 30.8924 91.1429 25.6065C91.1429 20.3206 95.3354 16.0355 100.507 16.0355ZM100.507 7.71291C110.176 7.71291 118.014 15.7241 118.014 25.6065C118.014 35.4888 110.176 43.5 100.507 43.5C90.8382 43.5 83 35.4888 83 25.6065C83 15.7241 90.8382 7.71291 100.507 7.71291Z",fill:"black"}),r.a.createElement("path",{d:"M83 26.0215H91.1429V0.498905H83V26.0215Z",fill:"black"}))},u=n(71),m=n(17),p=function(e){return e.open?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none"},r.a.createElement("rect",{y:"13",width:"18",height:"2.61417",rx:"1",transform:"rotate(-45 0 13)",fill:"#FDFDFD"}),r.a.createElement("rect",{x:"2",width:"18",height:"2.61417",rx:"1",transform:"rotate(45 2 0)",fill:"#FDFDFD"})):r.a.createElement("svg",{width:"18",height:"15",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"18",height:"2.61417",rx:"1",fill:"white"}),r.a.createElement("rect",{y:"12.1992",width:"18",height:"2.61417",rx:"1",fill:"white"}),r.a.createElement("rect",{y:"6.09961",width:"18",height:"2.61418",rx:"1",fill:"white"}))},d=n(213),f=n.n(d),h=n(214),b=n.n(h),y=function(){return r.a.createElement("svg",{width:"68",height:"22",viewBox:"0 0 68 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.7962 15.3707C26.9885 15.3707 28.7657 13.5542 28.7657 11.3135C28.7657 9.07287 26.9885 7.25644 24.7962 7.25644C22.6039 7.25644 20.8267 9.07287 20.8267 11.3135C20.8267 13.5542 22.6039 15.3707 24.7962 15.3707ZM24.7962 18.8986C28.8949 18.8986 32.2175 15.5026 32.2175 11.3135C32.2175 7.12445 28.8949 3.72852 24.7962 3.72852C20.6976 3.72852 17.375 7.12445 17.375 11.3135C17.375 15.5026 20.6976 18.8986 24.7962 18.8986Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.42124 15.3707C9.61353 15.3707 11.3907 13.5542 11.3907 11.3135C11.3907 9.07287 9.61353 7.25644 7.42124 7.25644C5.22894 7.25644 3.45174 9.07287 3.45174 11.3135C3.45174 13.5542 5.22894 15.3707 7.42124 15.3707ZM7.42124 18.8986C11.5199 18.8986 14.8425 15.5026 14.8425 11.3135C14.8425 7.12445 11.5199 3.72852 7.42124 3.72852C3.3226 3.72852 0 7.12445 0 11.3135C0 15.5026 3.3226 18.8986 7.42124 18.8986Z",fill:"white"}),r.a.createElement("path",{d:"M0 11.1367H3.45174V21.9557H0V11.1367Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.9798 7.34809C62.1721 7.34809 63.9493 9.16452 63.9493 11.4052C63.9493 13.6459 62.1721 15.4623 59.9798 15.4623C57.7875 15.4623 56.0103 13.6459 56.0103 11.4052C56.0103 9.16452 57.7875 7.34809 59.9798 7.34809ZM59.9798 3.82017C64.0785 3.82017 67.4011 7.2161 67.4011 11.4052C67.4011 15.5943 64.0785 18.9902 59.9798 18.9902C55.8812 18.9902 52.5586 15.5943 52.5586 11.4052C52.5586 7.2161 55.8812 3.82017 59.9798 3.82017Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.6048 7.34809C44.7971 7.34809 46.5743 9.16452 46.5743 11.4052C46.5743 13.6459 44.7971 15.4623 42.6048 15.4623C40.4125 15.4623 38.6353 13.6459 38.6353 11.4052C38.6353 9.16452 40.4125 7.34809 42.6048 7.34809ZM42.6048 3.82017C46.7035 3.82017 50.0261 7.2161 50.0261 11.4052C50.0261 15.5943 46.7035 18.9902 42.6048 18.9902C38.5062 18.9902 35.1836 15.5943 35.1836 11.4052C35.1836 7.2161 38.5062 3.82017 42.6048 3.82017Z",fill:"white"}),r.a.createElement("path",{d:"M35.1836 11.582H38.6353V0.763069H35.1836V11.582Z",fill:"white"}))},v=n(2),g=n(45);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,w(t).call(this,e))).state={},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,m["a"]),n=t,(a=[{key:"render",value:function(){var e="";return e="function"==typeof this.props.onClickMethod?this.props.onClickMethod:function(){},this.props.onClickSubmit?r.a.createElement("button",{className:"button button-".concat(this.props.buttonType," ").concat(this.props.buttonClass),onClick:function(t){e(t)}},this.renderButtonContent()):r.a.createElement("div",{className:"button button-".concat(this.props.buttonType," ").concat(this.props.buttonClass),onClick:function(t){e(t)}},this.renderButtonContent())}},{key:"renderButtonContent",value:function(){return this.props.children||this.props.buttonTitle}}])&&E(n.prototype,a),o&&E(n,o),t}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=M(t).call(this,e),n=!o||"object"!==j(o)&&"function"!=typeof o?S(a):o,D(S(n),"listenToScroll",function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight);n.setState({mobileMenu:e>.03})}),D(S(n),"renderBasketIcon",function(e){var t=e.mobile,a=t?"mobile-basket-icon":"desctop-basket-icon",o=t?b.a:f.a;return r.a.createElement("span",{className:i()(a,{"hide-element":!1==!!n.state.unfinishedOrder}),onClick:function(){window.location.hash="#/status/"+n.state.unfinishedOrder}},r.a.createElement("img",{src:o,alt:"Иконка статуса заказа"}))}),n.state={unfinishedOrder:Object(v.h)("lastOrder"),mobileMenu:!1,profile:n.props.profile,category:n.props.category},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e,t){return e.profile&&e.profile.phone!==this.state.profile.phone||e.profile&&e.profile.bonuses!==this.state.profile.bonuses?(this.setState({profile:e.profile}),!0):e.categories!==this.state.categories?(this.setState({categories:e.categories}),!0):e.cartPrice!==this.state.cartPrice?(this.setState({cartPrice:e.cartPrice}),!0):t.mobileMenu!==this.state.mobileMenu?(this.setState({mobileMenu:t.mobileMenu}),!0):e.category!==this.state.category?(this.setState({category:e.category}),!0):e.showMobileAuth!==this.props.showMobileAuth}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.listenToScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.listenToScroll)}},{key:"renderProfileButton",value:function(){var e=this;if(void 0===this.state.profile.phone){return r.a.createElement(C,{buttonType:"default",buttonTitle:"Войти",buttonClass:"profile-button",type:"button",onClickMethod:function(){e.props.onShowUserProfile(),Object(v.c)("micro")}},"Войти")}var t="".concat(this.state.profile.firstname||this.state.profile.phone," ").concat(this.state.profile.bonuses);return r.a.createElement(C,{buttonType:"default",buttonTitle:t,buttonClass:"profile-button",onClickMethod:this.props.onShowUserProfile},t," ",r.a.createElement(g.a,null))}},{key:"openCart",value:function(){console.log("cart"),c()("reachGoal","mobile_basket_click",{awesomeParameter:42}),window.location.href="#/basket"}},{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:i()("header",{"header-mobile":this.state.mobileMenu})},r.a.createElement("div",{className:"container"},r.a.createElement("section",{className:"top-level"},r.a.createElement("div",{className:"left-bar"},r.a.createElement("a",{href:"/"},r.a.createElement(l,null))),r.a.createElement("div",{className:"right-bar"},r.a.createElement(u.a,{menuItems:[{link:"#/",title:"Меню"},{link:"#/about",title:"О нас"},{link:"#/sales",title:"Акции"},{link:"#/restaurants",title:"Рестораны"}]}),this.renderBasketIcon({mobile:!1}),this.renderProfileButton())),r.a.createElement("section",{className:"bottom-level"},r.a.createElement("div",{className:"left-bar"},r.a.createElement(u.a,{menuItems:this.props.categories,menuItemClick:this.props.menuItemClick,category:this.state.category})),r.a.createElement("div",{className:"right-bar"},r.a.createElement("div",{className:"price-container",id:"cart-price"},Object(v.e)(this.props.cartPrice)),r.a.createElement(m.a,{buttonType:"basket",buttonTitle:"Корзина",onClickMethod:function(){window.location.href="#/basket"}}))),r.a.createElement("div",{className:"mobile-section"},r.a.createElement("div",{className:i()({"hide-element":this.state.mobileMenu}),onClick:function(){e.props.setShowMobileMenu()}},r.a.createElement(p,{open:this.props.showMobileAuth,className:i()({"hide-element":this.state.mobileMenu})})),r.a.createElement("div",{className:i()("boul-button__container",{"hide-element":!this.state.mobileMenu})},r.a.createElement(u.a,{menuItems:this.props.categories,menuItemClick:this.props.menuItemClick,category:this.state.category})),r.a.createElement("a",{className:i()({"hide-element":this.state.mobileMenu}),href:"/"},r.a.createElement(y,null)),r.a.createElement("div",{className:i()("right-bar",{"hide-element":this.state.mobileMenu})},this.renderBasketIcon({mobile:!0}),r.a.createElement(m.a,{className:i()({"hide-element":this.state.mobileMenu}),buttonType:"basket",buttonTitle:Object(v.e)(this.props.cartPrice),buttonClass:i()("mobile-basket-button",{"hide-element":this.state.mobileMenu}),onClickMethod:function(){e.openCart()}})))))}}])&&O(n.prototype,a),o&&O(n,o),t}();t.a=T},232:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(2),c=function(){return r.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("rect",{x:"10",y:"4",width:"60",height:"60",rx:"30",fill:"#8DD161"})),r.a.createElement("path",{d:"M28 28H52V41C52 42.6569 50.6569 44 49 44H31C29.3431 44 28 42.6569 28 41V28Z",stroke:"white",strokeWidth:"2"}),r.a.createElement("path",{d:"M34 23C34 21.8954 34.8954 21 36 21H44C45.1046 21 46 21.8954 46 23V28H34V23Z",stroke:"white",strokeWidth:"2"}),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"80",height:"80",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"6"}),r.a.createElement("feGaussianBlur",{stdDeviation:"5"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.232128 0 0 0 0 0.41048 0 0 0 0 0.1178 0 0 0 0.4 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},l=n(118);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,f(t).call(this,e))).state={cartPrice:n.props.cartPrice,cartCount:Object(s.k)(),categories:n.props.categories||[],categoriesData:[],cart:n.props.cart,recommendations:n.props.recommendations},n}var n,a,o,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.processingCategories()}},{key:"shouldComponentUpdate",value:function(e,t){return e.categories&&e.categories!==this.state.categories?(this.setState({categories:e.categories}),this.processingCategories(),!0):e.cartPrice!==this.state.cartPrice?(this.setState({cartPrice:e.cartPrice}),!0):e.recommendations!==this.state.recommendations?(this.setState({recommendations:e.recommendations}),!0):e.cart!==this.state.cart?(this.setState({cart:e.cart}),!0):t.categoriesData&&t.categoriesData.length!==this.state.categoriesData.length?(this.setState({categoriesData:t.categoriesData}),!0):t.cartCount!==this.state.cartCount&&(this.setState({cartCount:t.cartCount}),!0)}},{key:"openCart",value:function(){window.location.href="#/basket"}},{key:"processingCategories",value:(i=regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.state.categories&&this.state.categories.length&&t.push(this.state.categories[0]),!this.state.categories){e.next=14;break}n=1;case 4:if(!(n<this.state.categories.length)){e.next=13;break}if(1!==this.state.categories[n].published){e.next=10;break}return a=[],e.next=9,Object(s.j)("/products/category?category_id=".concat(this.state.categories[n].id,"&page=1")).then(function(e){a=e.data.result.items.slice()});case 9:t.push({id:this.state.categories[n].id,title:this.state.categories[n].title,active:!1,products:a});case 10:n++,e.next=4;break;case 13:this.setState({categoriesData:t});case 14:case"end":return e.stop()}},e,this)}),u=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=i.apply(e,t);function o(e){m(r,n,a,o,s,"next",e)}function s(e){m(r,n,a,o,s,"throw",e)}o(void 0)})},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this;return r.a.createElement("div",{className:"container"},this.state.cartCount?r.a.createElement("div",{className:"mobile-basket-float",onClick:function(){e.openCart()}},r.a.createElement(c,null),r.a.createElement("span",{className:"basket__counter"},this.state.cartCount)):"",r.a.createElement("div",{className:"market-sections"},this.state.categoriesData.map(function(n,a){return r.a.createElement(l.a,{key:a,category:e.state.categoriesData[a],cart:e.state.cart,addToCart:function(e){Object(s.a)(e),t.setState({cartCount:Object(s.k)()}),Object(s.q)(),Object(s.c)("micro")},removeFromCart:function(e){Object(s.p)(e),t.setState({cartCount:Object(s.k)()}),Object(s.q)()}})})))}}])&&p(n.prototype,a),o&&p(n,o),t}(),y=n(215),v=n.n(y);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,N(t).call(this,e))).state={slides:n.props.slides||[]},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e,t){return e.slides!==this.state.slides&&(this.setState({slides:e.slides}),!0)}},{key:"render",value:function(){var e=this.state.slides.map(function(e,t){return r.a.createElement("img",{key:"slide"+t,src:e.image})}),t={slidesPerView:1,spaceBetween:0,activeSlideKey:this.state.activeSlideIndex,loop:!0,autoplay:{delay:6e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}};if(0===e.length)return"";var n="slide-container";return this.props.moreCssClass&&(n=n+" "+this.props.moreCssClass),r.a.createElement("div",{className:n},r.a.createElement(v.a,t,e))}}])&&_(n.prototype,a),o&&_(n,o),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,M(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.documentElement.clientHeight;.75*document.body.scrollHeight<e+t&&(Object(s.c)("micro"),window.onscroll=null)}}},{key:"shouldComponentUpdate",value:function(e){return e.showMobileAuth!==this.props.showMobileAuth||!(!e.categories||e.categories===this.props.categories)}},{key:"componentWillUnmount",value:function(){window.onscroll=null}},{key:"render",value:function(){return r.a.createElement("div",{className:i()({"hide-element":this.props.showMobileAuth})},r.a.createElement(k,{slides:this.props.slides,moreCssClass:"desktop-only"}),r.a.createElement(k,{slides:this.props.mobileSlides,moreCssClass:"mobile-only"}),r.a.createElement(b,{cartPrice:this.props.cartPrice,cartCount:this.props.cartCount,categories:this.props.categories,cart:this.props.cart,addToCart:this.props.addToCart,removeFromCart:this.props.removeFromCart,recommendations:this.props.recommendations}))}}])&&j(n.prototype,a),o&&j(n,o),t}();t.a=A},233:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(109),c=n(110),l=n.n(c),u=n(71),m=function(){return r.a.createElement("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.4825 7.28125C9.16748 7.28125 6.4375 9.9636 6.4375 13.2207C6.4375 16.4779 9.16748 19.1602 12.4825 19.1602C15.7974 19.1602 18.5274 16.4779 18.5274 13.2207C18.5274 9.9636 15.7974 7.28125 12.4825 7.28125ZM12.4825 16.8611C10.5325 16.8611 8.77749 15.3283 8.77749 13.2207C8.77749 11.3048 10.3375 9.58041 12.4825 9.58041C14.4325 9.58041 16.1874 11.1132 16.1874 13.2207C16.1874 15.1367 14.4325 16.8611 12.4825 16.8611Z",fill:"#F8819C"}),r.a.createElement("path",{d:"M20.8649 0H4.09497C1.75499 0 0 1.72432 0 4.02342V20.6919C0 22.7994 1.75499 24.7153 4.09497 24.7153H21.0599C23.2048 24.7153 25.1548 22.991 25.1548 20.6919V4.02342C24.9598 1.72432 23.2048 0 20.8649 0ZM22.2298 20.5003C22.2298 21.2667 21.6448 21.8414 20.8649 21.8414H4.09497C3.31498 21.8414 2.72998 21.2667 2.72998 20.5003V4.02342C2.72998 3.25705 3.31498 2.68228 4.09497 2.68228H16.7699V5.74774H19.4999V2.68228H20.8649C21.6448 2.68228 22.2298 3.25705 22.2298 4.02342V20.5003Z",fill:"#F8819C"}))},p=function(){return r.a.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M20.7364 0H4.06977C1.74419 0 0 1.74419 0 4.06977V20.9302C0 23.062 1.74419 25 4.06977 25H20.9302C23.062 25 25 23.2558 25 20.9302V4.06977C24.8062 1.74419 23.062 0 20.7364 0ZM22.093 20.7364C22.093 21.5116 21.5116 22.093 20.7364 22.093H12.5969V16.2791H15.5039V13.7597H12.5969V11.4341C12.5969 9.30233 14.3411 7.55814 16.4729 7.55814V5.03876C12.9845 5.03876 10.0775 7.94574 10.0775 11.4341V13.7597H7.17054V16.2791H10.0775V22.093H4.06977C3.29457 22.093 2.71318 21.5116 2.71318 20.7364V4.06977C2.71318 3.29457 3.29457 2.71318 4.06977 2.71318H20.9302C21.7054 2.71318 22.2868 3.29457 22.2868 4.06977V20.7364H22.093Z",fill:"#F8819C"}))},d=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){var e,n,a,r,o,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a=this,n=!(r=(e=b(t)).call.apply(e,[this].concat(l)))||"object"!==f(r)&&"function"!=typeof r?y(a):r,o=y(n),s=function(){Object(d.c)("micro")},(i="sendPixel")in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){l.a.init("320228355308484",null,{autoConfig:!0})}},{key:"render",value:function(){var e=this,t=[{title:"О нас",onClick:function(){return e.props.onNavigateRequest("#/about",!0)}},{title:"Акции",onClick:function(){return e.props.onNavigateRequest("#/sales",!0)}},{title:"Рестораны",onClick:function(){return e.props.onNavigateRequest("#/restaurants",!0)}}];return this.props.showMobileAuth||t.push({link:"#/legal",title:"Правовая информация"}),r.a.createElement("footer",{className:i()("footer",{"mobile-page":this.props.showMobileAuth})},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer__content"},r.a.createElement("div",{className:"top-level"},r.a.createElement("div",{className:"left-bar"},r.a.createElement(u.a,{menuItems:t})),r.a.createElement("div",{className:"right-bar"},r.a.createElement("div",{className:"contact-number"},r.a.createElement("a",{href:"tel:".concat(this.props.companyPhone),onClick:this.sendPixel},this.props.companyPhone)))),r.a.createElement("div",{className:"bottom-level"},r.a.createElement("div",{className:"left-bar"},r.a.createElement("div",{className:"text-description copyright"},"2019 pobo. Все права защищены")),r.a.createElement("div",{className:"right-bar"},r.a.createElement("div",{className:"social-icons"},r.a.createElement("a",{href:this.props.socialLinks.instagram,className:"social-icons__item",rel:"noopener noreferrer",target:"_blank",onClick:this.sendPixel},r.a.createElement(m,null)),r.a.createElement("a",{href:this.props.socialLinks.facebook,className:"social-icons__item",rel:"noopener noreferrer",target:"_blank",onClick:this.sendPixel},r.a.createElement(p,null))),r.a.createElement("div",{className:"tag"},"#",this.props.socialLinks.hashtag))))),"localhost"!==window.location.hostname&&r.a.createElement(s.YMInitializer,{accounts:[54294081],options:{webvisor:!0},version:"2"}))}}])&&h(n.prototype,a),o&&h(n,o),t}();t.a=g},234:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o);n(564);function s(e){var t=e.title,n=e.text,a=e.img,o=e.reverse,i=n.replace(/<<(.*?)>>/g,"<span class='about-item__text_red'>$1</span>");return r.a.createElement("div",{className:"about-item ".concat(o&&"row-reverse")},r.a.createElement("img",{src:a,className:"about-item__img",alt:"Фото секции"}),r.a.createElement("div",{className:"about-item__content"},r.a.createElement("h2",{className:"about-item__title"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),r.a.createElement("p",{className:"about-item__text",dangerouslySetInnerHTML:{__html:i}})))}s.defaultProps={reverse:!1};var c=s,l=n(2);n(565);var u=function(e){var t=e.text.replace(/<<(.*?)>>/g,"<span class='slider-item__text_red'>$1</span>");return r.a.createElement("div",{className:"slider-item"},r.a.createElement("p",{className:"slider-item__text",dangerouslySetInnerHTML:{__html:t}}))};n(566);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=this,n=!(r=(e=f(t)).call.apply(e,[this].concat(i)))||"object"!==m(r)&&"function"!=typeof r?h(a):r,y(h(n),"state",{items:[],slides:[]}),y(h(n),"mounted",!0),n}var n,a,o,s,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:(s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.j)("/pages/about");case 2:t=e.sent.data.result,this.mounted&&this.setState({items:t.filter(function(e){return e.img}),slides:t.filter(function(e){return!e.img})});case 4:case"end":return e.stop()}},e,this)}),v=function(){var e=this,t=arguments;return new Promise(function(n,a){var r=s.apply(e,t);function o(e){p(r,n,a,o,i,"next",e)}function i(e){p(r,n,a,o,i,"throw",e)}o(void 0)})},function(){return v.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(!this.state.items.length)return null;var e=this.props.showMobileAuth,t=this.state.slides.map(function(e){return r.a.createElement(u,{key:e.id,text:e.text})}),n=this.state.items.map(function(e,t){return r.a.createElement(c,{key:e.id,title:e.title,text:e.text,img:e.img,reverse:(t+1)%2==0})});return r.a.createElement("main",{className:i()("page container",{"hide-element":e})},r.a.createElement("div",{className:"page__container"},r.a.createElement("div",{className:"about__list-container"},n,r.a.createElement("div",{className:"slider-container"},t))))}}])&&d(n.prototype,a),o&&d(n,o),t}();t.a=v},235:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(2),c=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},r.a.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"#8DD161"}),r.a.createElement("path",{d:"M14.4016 6.83155C14.4016 6.35224 14.3148 5.91325 14.1414 5.52578C13.9704 5.14503 13.7126 4.80011 13.3706 4.50222C13.0286 4.20434 12.6296 3.97812 12.1885 3.82806C11.7425 3.67576 11.2344 3.59961 10.6793 3.59961H5.89885V8.65021V8.7398V8.96377H5.65103H5.55191H3.60156V10.0657H5.55439H5.65351H5.90133V10.2897V10.3793V11.3379V11.4275V11.6515H5.65351H5.55439H3.60156V12.5809H5.55439H5.65351H5.90133V12.8049V12.8945V14.3996H7.28169V12.8945V12.8049V12.5809H7.52951H7.62864H12.1018V11.6492H7.62616H7.52703H7.27921V11.4252V11.3357V10.377V10.2875V10.0635H7.52703H7.62616H10.6793C11.2344 10.0635 11.7425 9.98733 12.1885 9.83503C12.6296 9.68497 13.0286 9.45875 13.3706 9.16087C13.7126 8.86299 13.9704 8.51807 14.1414 8.13507C14.3123 7.74984 14.4016 7.31085 14.4016 6.83155ZM12.2753 8.37472C11.8218 8.76668 11.2245 8.96377 10.5009 8.96377H7.62616H7.52703H7.27921V8.7398V8.65021V5.01512V4.92553V4.70156H7.52703H7.62616H10.4984C11.222 4.70156 11.8193 4.9009 12.2728 5.29061C12.7313 5.68704 12.9642 6.20442 12.9642 6.83155C12.9667 7.46091 12.7337 7.97829 12.2753 8.37472Z",fill:"white"}))};n(4),n(579);var l=function(e){var t,n=e.rules,a=e.items,o=e.classes,i=0,s=0;a.forEach(function(e){e.paid>0&&(i+=e.paid),e.free>0&&(s+=e.free)});var c=n.min_items,l=n.max_items-c,u=c-s,m=l-i,p="Выберите ".concat(u),d="Дополнительно ".concat(m);return t=u&&m,t=u>0||0===u&&0===m&&!n.extra_item?p:d,r.a.createElement("div",{className:"constructor__count-hint ".concat(o)},t)};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,h(t).call(this,e))).state={groups:[],activeTab:0,amount:0,defaultAmount:0},n.aliases={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this,t=this;Object(s.j)("/ingredients").then(function(n){var a={groups:n.data.result.groups,amount:parseInt(n.data.result.set_fixed_price,10),defaultAmount:parseInt(n.data.result.set_fixed_price,10)};n.data.result.groups.map(function(t,n){e.aliases[t.alias]=n,a[t.alias]=[]}),t.setState(a)})}},{key:"renderGroupsSelections",value:function(){var e=this;return this.state.groups.map(function(t,n){var a=e.state[t.alias].length>0;return r.a.createElement("div",{className:"block",key:t.alias+n},r.a.createElement("span",{className:"block__title ".concat(!a&&"block__title--disabled")},n+1,". ",t.title),r.a.createElement("ul",{className:"block__list"},a?e.renderGroupSelections(t.alias):e.renderEmptySelections(t)))})}},{key:"renderEmptySelections",value:function(e){return r.a.createElement("li",{className:"block__list-item block__list-item--disable",key:"empty"+e.id},r.a.createElement("div",{className:"title"},"Не выбрано"))}},{key:"renderGroupSelections",value:function(e){var t=this;return this.state[e].map(function(n){var a=(n.paid&&n.price)*(n.count-n.free),o=!!a&&"".concat(a," ₽"),i="".concat(n.measure.value*n.count," г"),s=n.count>1&&"x".concat(n.count);return r.a.createElement("li",{className:"block__list-item",key:"product"+n.id},r.a.createElement("div",{className:"block__list-item__title--text"},n.title),r.a.createElement("span",{className:"block__list-item__count"},s),r.a.createElement("span",{className:"block__list-item__weight"},i),r.a.createElement("div",{className:"block__list-item__price"},o),t.getGroup(e).rules.required?r.a.createElement("div",{className:"trash"}):r.a.createElement("div",{className:"trash",onClick:function(){t.deleteItem(n,e)}},t.trashButton(!0)))})}},{key:"deleteItem",value:function(e,t){var n=this,a={},r=this.state[t].slice(),o=this.getIndexInCart(t,e.id);r.splice(o,1),a[t]=r,this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a),function(){n.setNewSelection(t,n.state.groups[n.aliases[t]].rules),n.setState({amount:n.amount})})}},{key:"renderGroupsSelectionsMobile",value:function(){var e=this;return this.state.groups.filter(function(t){return e.state[t.alias].length}).map(function(t,n){return e.renderGroupSelectionsMobile(t.alias)})}},{key:"renderGroupSelectionsMobile",value:function(e){var t=this;return this.state[e].map(function(n,a){return r.a.createElement("li",{className:"block__list-item",key:"product"+n.id},t.getGroup(e).rules.required?r.a.createElement("div",{className:"trash--disabled"},t.trashButton(!1)):r.a.createElement("div",{className:"trash",onClick:function(){t.deleteItem(n,e)}},t.trashButton(!0)),r.a.createElement("div",{className:"title"},n.title," ",n.count>1?r.a.createElement("span",{className:"count"},"x",n.count):""))})}},{key:"renderTotalMobile",value:function(){var e=this,t=this.state.base&&this.state.base.length?"":"btn--grey-inverse";return r.a.createElement("div",{className:"constructor__total mobile-only"},r.a.createElement("span",{className:"constructor__total-header"},"Выбранные ингредиенты"),r.a.createElement("div",{className:"constructor__total-content"},r.a.createElement("ul",{className:"block__list"},this.renderGroupsSelectionsMobile())),r.a.createElement("div",{className:"constructor__total-footer"},r.a.createElement("span",{className:"cost"},r.a.createElement("span",{className:"cost__label"},"Стоимость")," ",r.a.createElement("span",{className:"cost__amount"},Object(s.e)(this.state.amount))),r.a.createElement("button",{className:"btn ".concat(t),onClick:function(){e.state.base&&e.state.base.length&&(e.addToCart(),window.location.href="#/basket")}},"В корзину")))}},{key:"render",value:function(){var e=this,t=this.state.base&&this.state.base.length?"":"btn--grey-inverse";return r.a.createElement("main",{className:i()("page constructor-page",{"hide-element":this.props.showMobileAuth})},r.a.createElement("div",{className:"page__container container"},r.a.createElement("h1",{className:"page__title container market-section market-section__title constructor-section constructor-section__title"},"Собери свой боул"),r.a.createElement("p",{className:"constructor-page__text text-gray"},"Боул состоит из основы — это сложный углевод, помогающий оставаться сытым долгое время, соуса, придающего блюду пикантный вкус, рыбы, морепродуктов или альтерантивных видов белка для вегетарианцев и овощного топпинга, который добавит витаминов к вашему боулу.")),r.a.createElement("div",{className:"constructor container"},r.a.createElement("div",{className:"constructor__section"},r.a.createElement("div",{className:"constructor__wizard"},r.a.createElement("div",{className:"constructor__header"},this.renderTabsHeaders),r.a.createElement("div",{className:"constructor__content"},this.renderTabsContents)),r.a.createElement("div",{className:"constructor__total"},r.a.createElement("span",{className:"constructor__total-header"},"Состав вашего боула"),r.a.createElement("div",{className:"constructor__total-content"},this.renderGroupsSelections()),r.a.createElement("div",{className:"constructor__total-footer"},r.a.createElement("span",{className:"cost"},r.a.createElement("span",{className:"cost__label"},"Стоимость "),r.a.createElement("span",{className:"cost__amount"},Object(s.e)(this.state.amount))),r.a.createElement("button",{className:"btn ".concat(t),onClick:function(){e.state.base&&e.state.base.length&&(e.addToCart(),window.location.href="#/basket")}},"В корзину")))),this.renderTotalMobile()))}},{key:"addToCart",value:function(){var e=this,t={amount:this.state.amount,title:"Свой поке",type:"set",id:Date.now(),groups:[]};this.state.groups.map(function(n,a){t.groups.push({id:n.id,title:n.title,ingredients:e.state[n.alias]})}),this.props.addToCart(t)}},{key:"nextStep",value:function(){this.setState({activeTab:this.state.activeTab+1})}},{key:"selectStep",value:function(e){this.setState({activeTab:e})}},{key:"prevStep",value:function(){this.setState({activeTab:this.state.activeTab-1})}},{key:"getGroup",value:function(e){return this.state.groups[this.aliases[e]]}},{key:"getButtonNext",value:function(e){var t=this;return r.a.createElement("button",{className:"btn",onClick:function(){return t.nextStep()}},this.state.groups[e+1].select_label?this.state.groups[e+1].select_label:"Выбрать")}},{key:"getButtonToCart",value:function(){var e=this,t=this.state.base&&this.state.base.length?"":"btn--grey-inverse";return r.a.createElement("button",{className:"btn ".concat(t),onClick:function(){e.state.base&&e.state.base.length&&(e.addToCart(),window.location.href="#/basket")}},"В корзину")}},{key:"getCount",value:function(e,t){var n=this,a=[];return this.state[e]&&Object.keys(this.state[e]).length&&this.state[e].map(function(e){e.id===t.id&&(e.free&&e.paid?a.push(r.a.createElement("span",null,r.a.createElement("span",{className:"constructor__count-container--free"},e.free," +"),n.getIcons(e.paid))):e.paid&&!e.free&&e.price?a=n.getIcons(e.paid):e.free&&!e.paid&&e.count>1&&a.push("x"+e.count))}),a}},{key:"getIcons",value:function(e){for(var t=[],n=0;n<e;n++)t.push(r.a.createElement("span",{className:"constructor__crown"},r.a.createElement(c,null)));return t}},{key:"showPrice",value:function(e){var t=0;return this.state[e]&&this.state[e].map(function(e,n){t+=e.count}),this.state.groups.length&&this.state.groups[this.aliases[e]].rules.min_items<=t&&!this.state["empty"+e]}},{key:"renderTabListItem",value:function(e,t){var n=this,a=e.price&&e.paid||e.price&&this.showPrice(t)||e.only_paid?"+"+Object(s.e)(e.price):"";return r.a.createElement("li",{className:"constructor__item "+this.getActiveClass(e,t),key:"boulItems"+e.id,onClick:function(){n.onSelectItem(e,t)}},r.a.createElement("span",{className:"constructor__count"},this.getCount(t,e)),r.a.createElement("div",{className:"constructor__img-wrapp"},r.a.createElement("img",{className:"constructor__img",src:e.image,alt:""})),r.a.createElement("div",{className:"constructor__text"},e.title),r.a.createElement("div",{className:"constructor__price"},a))}},{key:"renderSkipItem",value:function(e,t){var n=this;return r.a.createElement("li",{className:"constructor__item "+(this.state["empty"+t]?"constructor__item--active":""),onClick:function(){n.onSkipSelectionItems(t)},key:"without"+t},r.a.createElement("div",{className:"constructor__img-wrapp"},r.a.createElement("div",{className:"constructor__img--skip"},r.a.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"28",cy:"28",r:"28",fill:"white",fillOpacity:"0.8"}),r.a.createElement("rect",{width:"28",height:"4",rx:"1",transform:"matrix(1 0 0.0155768 0.999879 14 26)",fill:"#8DD161"}))),r.a.createElement("img",{className:"constructor__img",src:"",alt:""})),r.a.createElement("div",{className:"constructor__text"},e||"Без ингредиента"))}},{key:"onSkipSelectionItems",value:function(e){var t=this,n={};this.state[e].map(function(e){e.free=0,e.paid=0}),n[e]=[],n["empty"+e]=!this.state["empty"+e],this.setState(n,function(){t.setState({amount:t.amount})})}},{key:"onSelectItem",value:function(e,t){var n=this,a={},r=this.getGroup(t).rules,o=this.state[t].slice(),i=0,s=0,c=Object.assign({},e),l=this.getIndexInCart(t,c.id);o.map(function(e){i+=e.count,e.id===c.id&&(s=e.count)}),2===s?o.splice(l,1):i===r.max_items?o[0].id!==c.id?(1===o[0].count?(o=o.slice(1),l-=1):o[0].count-=1,l>-1?o[l].count+=1:(c.count=1,o.push(c))):o.length>1?(o[0].count+=1,1===o[1].count?o.splice(1,1):o[1].count-=1):o=[]:-1===l?(c.count=1,o.push(c)):o[l].count+=1,a[t]=o,a["empty"+t]=!o.length,this.setState(a,function(){n.setNewSelection(t,r),n.setState({amount:n.amount})})}},{key:"setNewSelection",value:function(e,t){var n=[],a=this.state[e].slice(),r=t.min_items;this.state[e].map(function(e){e.free=0,e.paid=0}),a.map(function(e,t){e.only_paid?(e.paid=e.count,e.free=0):r>0?e.count>=r?(e.free=r,e.paid=e.count-r,r=0):(e.free=e.count,e.paid=0,r-=e.count):(e.paid=e.count,e.free=0),n.push(e)});var o={};return o[e]=n,this.setState(o),n}},{key:"getIndexInCart",value:function(e,t){var n=-1;return this.state[e].map(function(e,a){e.id===t&&(n=a)}),n}},{key:"getActiveClass",value:function(e,t){return-1!==this.getIndexInCart(t,e.id)?"constructor__item--active":""}},{key:"trashButton",value:function(e){var t=e?"#8DD161":"#CCCCCC";return r.a.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.9612 3.55728L12.6099 2.50315C12.4762 2.10203 12.1 1.83461 11.6772 1.83461H8.72386V0.870662C8.72386 0.388688 8.33214 0 7.85338 0H5.1487C4.66683 0 4.27823 0.391798 4.27823 0.870662V1.83461H1.32484C0.902034 1.83461 0.528974 2.10514 0.395295 2.50626L0.0408876 3.55728C-0.039942 3.79671 0.000472799 4.06413 0.149697 4.26935C0.298921 4.47458 0.535192 4.59585 0.790116 4.59585H1.15696L1.96526 14.596C2.02432 15.3392 2.65542 15.9207 3.39843 15.9207H9.76843C10.5114 15.9207 11.1425 15.3392 11.2016 14.596L12.0099 4.59585H12.212C12.4638 4.59585 12.7032 4.47458 12.8524 4.26935C12.9985 4.06413 13.0389 3.79982 12.9612 3.55728ZM5.21088 0.932852H7.79432V1.83461H5.21088V0.932852ZM10.2721 14.5214C10.2503 14.7826 10.0296 14.9878 9.76843 14.9878H3.39843C3.13728 14.9878 2.91656 14.7826 2.8948 14.5214L2.09272 4.59585H11.0741L10.2721 14.5214ZM0.989082 3.663L1.2782 2.79856C1.28442 2.7799 1.30307 2.76435 1.32484 2.76435H11.6804C11.7021 2.76435 11.7208 2.77679 11.727 2.79856L12.0161 3.663H0.989082Z",fill:t}),r.a.createElement("path",{d:"M9.27283 5.14774C9.2635 5.14774 9.25728 5.14774 9.24796 5.14774C9.00236 5.14774 8.79407 5.34053 8.78163 5.58929L8.34329 13.9974C8.33085 14.2555 8.52671 14.4731 8.78474 14.4887C9.04277 14.5011 9.26039 14.3052 9.27594 14.0471L9.71428 5.63904C9.72672 5.38095 9.53086 5.16328 9.27283 5.14774Z",fill:t}),r.a.createElement("path",{d:"M4.21902 5.58929C4.20658 5.34053 3.99829 5.14774 3.75269 5.14774C3.74337 5.14774 3.73404 5.14774 3.72782 5.14774C3.46979 5.16017 3.27393 5.38095 3.28637 5.63904L3.74648 14.0471C3.75891 14.3052 3.97964 14.5011 4.23767 14.4887C4.49571 14.4763 4.69156 14.2555 4.67913 13.9974L4.21902 5.58929Z",fill:t}),r.a.createElement("path",{d:"M6.51024 5.15318C6.2522 5.15318 6.04391 5.36152 6.04391 5.61961L6.04391 14.0277C6.04391 14.2858 6.2522 14.4941 6.51024 14.4941C6.76827 14.4941 6.97656 14.2858 6.97656 14.0277L6.97656 5.61961C6.97656 5.36152 6.76827 5.15318 6.51024 5.15318Z",fill:t}))}},{key:"renderTabsHeaders",get:function(){var e=this,t=this.state.activeTab,n=this.state.groups.length;if(n){var a=this.state.groups[t].alias,o=this.state[a],i=this.state.groups[t].rules;return this.state.groups.map(function(a,s){var c=t===s,u=n===s+1?"right-0":"",m="constructor__title"+(t>s?" constructor__title--passed":"")+(c?" constructor__title--active":"");return r.a.createElement("div",{className:m,key:a.id,onClick:function(){e.selectStep(s)}},a.title,c&&r.a.createElement(l,{rules:i,items:o,classes:u}))})}}},{key:"renderTabsContents",get:function(){var e=this;return this.state.groups.map(function(t,n){var a=t.alias,o=e.state[a],i=t.rules,s="constructor__content-tab"+(e.state.activeTab!==n?" constructor__content-tab--hidden":""),c=t.items.map(function(n){return e.renderTabListItem(n,t.alias,t.title)});return r.a.createElement("div",{className:s,key:t.alias},r.a.createElement(l,{rules:i,items:o,classes:"constructor__count-hint-mobile"}),r.a.createElement("h2",{className:"constructor-list__title mobile-only"},t.title),r.a.createElement("ul",{className:"constructor__list"},c,t.rules.required?"":e.renderSkipItem(t.cancel_label,t.alias)),0===n?"":r.a.createElement("button",{className:"btn",onClick:function(){return e.prevStep()}},"Назад"),n===e.state.groups.length-1?e.getButtonToCart():e.getButtonNext(n))})}},{key:"amount",get:function(){var e=this,t=0;return Object.keys(this.aliases).map(function(n){e.state[n].map(function(e){t+=e.paid*e.price})}),this.state.defaultAmount+t}}]),t}();t.a=y},236:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(4),n(5)),i=n.n(o),s=n(61);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=this,n=!(r=(e=u(t)).call.apply(e,[this].concat(i)))||"object"!==c(r)&&"function"!=typeof r?m(a):r,d(m(n),"state",{windowSize:screen.width}),d(m(n),"disableDrag",function(e,t){t<768&&e?(e.behaviors.disable("drag"),e.behaviors.disable("scrollZoom")):t>768&&e&&(e.behaviors.enable("drag"),e.behaviors.enable("scrollZoom"))}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;window.onresize=function(){Math.abs(e.state.windowSize-screen.width)>20&&e.setState({windowSize:screen.width})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ymap-container"},r.a.createElement(s.YMaps,null,r.a.createElement(s.Map,{width:"100%",height:"100%",instanceRef:function(t){return e.disableDrag(t,e.state.windowSize)},defaultState:{center:[59.964199,30.286271],zoom:12}},r.a.createElement(s.Polygon,{geometry:[[[59.98095273758984,30.237067208434553],[59.98176996467162,30.245993600036076],[59.98207104323072,30.250971779967752],[59.9822000760582,30.25629328265322],[59.982286097662815,30.260327325011414],[59.98224308688845,30.264962182189425],[59.981812976063146,30.26899622454782],[59.980995750046574,30.272944436217667],[59.98060863592076,30.276635155822245],[59.98086671250898,30.27843760027993],[59.981425871525516,30.282385811950206],[59.98176996467162,30.286076531554787],[59.98203605872816,30.293681447214436],[59.98184250833623,30.297672574228542],[59.98165970969197,30.30050498694836],[59.98126185034675,30.302908246225662],[59.98054554718461,30.306120183591588],[59.978712625800014,30.31801265317377],[59.977572697886814,30.321660457434266],[59.97555084208789,30.32547992307135],[59.97258236127084,30.328998981298856],[59.9681721685699,30.33243220883776],[59.96539667206764,30.334663806738345],[59.96118686478915,30.335110639488175],[59.95821709203058,30.335368131553697],[59.95615100562895,30.336655591880795],[59.954429168223065,30.338157628929178],[59.954084789970246,30.337985967552104],[59.95113590417692,30.325154279624822],[59.95290096233952,30.32197854415131],[59.952857913262065,30.31584164992527],[59.95145878771878,30.31120679274731],[59.94749786484798,30.304726575767553],[59.950533179788394,30.295971845542823],[59.948036061595815,30.292667364036554],[59.94991847471461,30.28635604772391],[59.95252307466168,30.28953178319747],[59.955493359461556,30.28142078313647],[59.95329795731782,30.276914671991573],[59.957194897899434,30.26580401762643],[59.959196357792926,30.257907594286586],[59.96057363607796,30.248208726488702],[59.963564714486196,30.237651551806316],[59.96853441518721,30.232808308607424],[59.970023497630415,30.214968082202255],[59.97383114373223,30.2125648229248],[59.97686404052915,30.21441018272761],[59.98095273758984,30.237067208434553]]],options:{fillColor:"#00FF00",strokeColor:"#0000FF",opacity:.3,strokeWidth:2,strokeStyle:"shortdash"}}),r.a.createElement(s.Placemark,{onClick:function(){return window.open("https://yandex.ru/maps/-/CCarJ-LN","_blank")},geometry:[59.96410237451418,30.28578632820699],properties:{hintContent:"Pobo"}}),r.a.createElement(s.ZoomControl,{options:{size:"small",zoomDuration:1e3,position:{top:40,right:3}}}),r.a.createElement(s.GeolocationControl,{options:{float:"left"}}))))}}])&&l(n.prototype,a),o&&l(n,o),t}(),h=n(221),b=n.n(h);n(567);t.a=function(e){var t=e.showMobileAuth,n=e.restaurants;return r.a.createElement("main",{className:i()("page container",{"hide-element":t})},r.a.createElement("div",{className:"page__container"},r.a.createElement("div",{className:"restourants__flex-container"},r.a.createElement("div",{className:"restourants__section restourants__list"},r.a.createElement("h1",{className:"restourants__section-title"},"Рестораны"),n.map(function(e){return r.a.createElement("div",{className:"restourans-item",key:e.id},r.a.createElement("img",{className:"restourans-item__photo",src:b.a,alt:"Фото ресторана"}),r.a.createElement("div",{className:"restourant-item__content"},r.a.createElement("p",{className:"restourant-item__title"},e.address),r.a.createElement("div",{className:"restourant-item__metro"},e.metro),r.a.createElement("a",{className:"restourant-item__phone",href:"tel:".concat(e.phone)},e.phone),r.a.createElement("div",{className:"restourant-item__time"},e.schedule)))})),r.a.createElement("div",{className:"restourants__section restourants__map"},r.a.createElement("h1",{className:"restourants__section-title"},"Зона доставки"),r.a.createElement(f,{restaurant:n[0]})))))}},237:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(68),c=n.n(s),l=n(222),u=n.n(l),m=n(2),p=n(111),d=n(112),f=n(114),h=function(){return r.a.createElement("svg",{width:"53",height:"46",viewBox:"0 0 53 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M16.8456 30.6664H44.6152C45.2992 30.6664 45.9016 30.2166 46.0854 29.5522L52.211 8.08571C52.3437 7.62571 52.2519 7.12483 51.966 6.73639C51.6801 6.34795 51.2207 6.12306 50.7409 6.12306H13.3131L12.2207 1.18577C12.0573 0.500885 11.4346 0 10.7199 0H1.53141C0.684032 0 0 0.684883 0 1.53332C0 2.38176 0.684032 3.06664 1.53141 3.06664H9.49477C9.68875 3.94574 14.7322 26.6695 15.0283 27.978C13.405 28.6833 12.2615 30.3086 12.2615 32.1997C12.2615 34.7348 14.3238 36.7997 16.8558 36.7997H44.6254C45.4728 36.7997 46.1568 36.1148 46.1568 35.2664C46.1568 34.4179 45.4728 33.733 44.6254 33.733H16.8456C15.9982 33.733 15.3141 33.0482 15.3141 32.1997C15.3141 31.3513 15.9982 30.6664 16.8456 30.6664ZM48.7092 9.19992L43.4615 27.5998H18.0707L13.9869 9.19992H48.7092Z",fill:"#474A51"}),r.a.createElement("path",{d:"M15.3125 41.4007C15.3125 43.9358 17.3748 46.0007 19.9067 46.0007C22.4387 46.0007 24.501 43.9358 24.501 41.4007C24.501 38.8657 22.4387 36.8008 19.9067 36.8008C17.3748 36.8008 15.3125 38.8657 15.3125 41.4007ZM19.9067 39.8674C20.7541 39.8674 21.4382 40.5523 21.4382 41.4007C21.4382 42.2492 20.7541 42.9341 19.9067 42.9341C19.0594 42.9341 18.3753 42.2492 18.3753 41.4007C18.3753 40.5523 19.0594 39.8674 19.9067 39.8674Z",fill:"#474A51"}),r.a.createElement("path",{d:"M36.957 41.4007C36.957 43.9358 39.0193 46.0007 41.5513 46.0007C44.0832 46.0007 46.1455 43.9358 46.1455 41.4007C46.1455 38.8657 44.0832 36.8008 41.5513 36.8008C39.0193 36.8008 36.957 38.8657 36.957 41.4007ZM41.5513 39.8674C42.3987 39.8674 43.0827 40.5523 43.0827 41.4007C43.0827 42.2492 42.3987 42.9341 41.5513 42.9341C40.7039 42.9341 40.0199 42.2492 40.0199 41.4007C40.0199 40.5523 40.7039 39.8674 41.5513 39.8674Z",fill:"#474A51"}))},b=n(118);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=c.a.animateScroll,w={isDynamic:!0,offset:-80,spy:!0,smooth:!0,duration:500},k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,_(t).call(this,e))).state={cart:Object(m.g)(),cartPrice:Object(m.l)(),min_amount_for_delivery:n.props.min_amount_for_delivery,recommendations:n.props.recommendations},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.a.Component),n=t,(a=[{key:"priceCart",value:function(){this.setState({cartPrice:Object(m.l)()})}},{key:"redirectToPayment",value:function(e){Object(m.s)(e),this.props.onNavigateRequest("#/payment")}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:i()("page basket-page",{"hide-element":this.props.showMobileAuth})},r.a.createElement(u.a,null,r.a.createElement("title",null,this.props.pageTitle)),r.a.createElement("div",{className:"page__container container"},r.a.createElement("a",{className:"page__return",href:"#"},r.a.createElement("svg",{className:"svg svg-arrow-left "},r.a.createElement("use",{href:"#arrow-left"}))),r.a.createElement("p",{className:"page__title"},"Ваш заказ"),r.a.createElement("div",{className:i()("basket-warning",{"hide-element":this.isDeliveryAvailable})},r.a.createElement("span",{className:"basket-warning__icon"},r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"5.5",cy:"6.5",r:"5.1",stroke:"#FD7065",strokeWidth:"0.8"}),r.a.createElement("path",{d:"M5.95047 7.77445L6.13047 3.13945H5.05047L5.23047 7.77445H5.95047ZM5.00547 8.94445C5.00547 9.25945 5.27547 9.52945 5.59047 9.52945C5.90547 9.52945 6.17547 9.25945 6.17547 8.94445C6.17547 8.62945 5.90547 8.35945 5.59047 8.35945C5.27547 8.35945 5.00547 8.62945 5.00547 8.94445Z",fill:"#FD7065"}))),r.a.createElement("span",{className:"basket-warning__text"},"Минимальная сумма заказа ",Object(m.e)(this.state.min_amount_for_delivery),". Вы можете заказать самовывоз или дополнить корзину.")),r.a.createElement("div",{className:"basket"},this.items)),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"basket"},r.a.createElement(b.a,{category:{id:0,title:"Рекомендуем",products:this.state.recommendations},cart:this.state.cart,addToCart:function(t){e.props.addToCart(t),N.scrollToTop(w)},removeFromCart:this.props.removeFromCart}),r.a.createElement("div",{className:"basket__total-block basket-total"},this.state.cart.length?this.basket:"",this.state.cart.length?this.buttons:""))))}},{key:"isDeliveryAvailable",get:function(){return 0===this.state.cartPrice||0===this.state.min_amount_for_delivery||this.state.cartPrice>=this.state.min_amount_for_delivery}},{key:"basketItems",get:function(){var e=this;return this.state.cart.map(function(t,n){return r.a.createElement("li",{key:"basket-item"+n,className:"basket__item basket-pos js-basket-pos"},r.a.createElement("div",{className:"basket-pos__header"},r.a.createElement("div",{className:"basket-pos__title"},t.itemData.title),r.a.createElement("div",{className:"basket-pos__price"},r.a.createElement("span",{"data-price":t.itemData.price},Object(m.e)(t.itemData.price||t.itemData.amount))),r.a.createElement("div",{className:"basket-pos__consist"},t.itemData.description?t.itemData.description:Object(m.f)(t.itemData.groups)),r.a.createElement("div",{className:"basket-pos__specifications"},t.itemData.specifications&&t.itemData.specifications.map(function(e,t){return r.a.createElement("div",{key:t,className:"basket-pos__prop"},"".concat(e.value," ").concat(e.title))}))),r.a.createElement("div",{className:"basket-pos__footer"},r.a.createElement("div",{className:"basket-pos__delete",onClick:function(){e.props.removeAllItemsFromCart(t.itemData)}},r.a.createElement(f.a,null)),r.a.createElement("div",{className:"basket-pos__amount amount-item"},r.a.createElement("div",{onClick:function(){e.props.removeFromCart(t.itemData)},className:"amount-item__dec"},r.a.createElement(d.a,null)),r.a.createElement("span",{className:"amount-item__field"},t.numberItems),r.a.createElement("div",{onClick:function(){e.props.addToCart(t.itemData)},className:"amount-item__inc"},r.a.createElement(p.a,null)))))})}},{key:"basket",get:function(){return r.a.createElement("div",{className:"basket-total__prices"},r.a.createElement("p",{className:"basket-total__title"},"Стоимость заказа"),r.a.createElement("p",{className:"basket-total__cost"},r.a.createElement("span",{className:"js-total-cost"},Object(m.e)(this.state.cartPrice))))}},{key:"buttons",get:function(){var e=this;return r.a.createElement("div",{className:"basket-total__buttons"},r.a.createElement("button",{className:"basket-total__btn_dark btn-transparent",onClick:function(){e.redirectToPayment(1),Object(m.c)("micro")},type:"button"},"Самовывоз"),r.a.createElement("button",{className:"basket-total__btn_light btn-primary",disabled:!this.isDeliveryAvailable,onClick:function(){e.redirectToPayment(2),Object(m.c)("micro")},type:"button"},"Доставка"))}},{key:"items",get:function(){return this.state.cart.length?r.a.createElement("ul",{className:"basket__list"},this.basketItems):r.a.createElement("div",{className:"basket-empty"},r.a.createElement("div",{className:"basket-empty__icon"},r.a.createElement(h,null)),r.a.createElement("div",{className:"basket-empty__text"},"В корзине пока еще ничего нет"),r.a.createElement("div",{className:"basket-empty__button"},r.a.createElement("button",{className:"basket-total__btn_dark btn-transparent",onClick:function(){window.location.hash=""}},"Вернуться в меню")))}}])&&v(n.prototype,a),o&&v(n,o),t}();t.a=k},240:function(e,t,n){"use strict";n.r(t),function(e,t){n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(95),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(287),n(288),n(289),n(130),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(318),n(319),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(343),n(344),n(345),n(346),n(347),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(182),n(363),n(364),n(365),n(366),n(183),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(141),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(511),n(512),n(513),n(514),n(516),n(195),n(517),n(520);var a=n(212);e.render(t.createElement(a.a,null),document.getElementById("app"))}.call(this,n(49),n(0))},30:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return this.props.error?r.a.createElement("div",{className:"validation-result"},r.a.createElement("span",{className:"validation-result__icon"},r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"5.5",cy:"6.5",r:"5.1",stroke:"#FD7065",strokeWidth:"0.8"}),r.a.createElement("path",{d:"M5.95047 7.77445L6.13047 3.13945H5.05047L5.23047 7.77445H5.95047ZM5.00547 8.94445C5.00547 9.25945 5.27547 9.52945 5.59047 9.52945C5.90547 9.52945 6.17547 9.25945 6.17547 8.94445C6.17547 8.62945 5.90547 8.35945 5.59047 8.35945C5.27547 8.35945 5.00547 8.62945 5.00547 8.94445Z",fill:"#FD7065"}))),r.a.createElement("span",{className:"validation-result__error"},this.props.error)):""}}])&&i(n.prototype,a),o&&i(n,o),t}();t.a=u},45:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("svg",{width:"19",height:"26",viewBox:"0 0 19 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M0 12.2949H4.25987V25.0019H0V12.2949Z",fill:"#F8819C"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.15871 7.73533C11.8643 7.73533 14.0576 9.86875 14.0576 12.5005C14.0576 15.1322 11.8643 17.2656 9.15871 17.2656C6.45315 17.2656 4.25987 15.1322 4.25987 12.5005C4.25987 9.86875 6.45315 7.73533 9.15871 7.73533ZM9.15871 3.59174C14.2169 3.59174 18.3174 7.58031 18.3174 12.5005C18.3174 17.4206 14.2169 21.4092 9.15871 21.4092C4.10049 21.4092 0 17.4206 0 12.5005C0 7.58031 4.10049 3.59174 9.15871 3.59174Z",fill:"#F8819C"}),r.a.createElement("path",{d:"M0 12.709H4.25987V0.00196934H0V12.709Z",fill:"#F8819C"}))}},563:function(e,t,n){},564:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){},567:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},574:function(e,t,n){},575:function(e,t,n){},576:function(e,t,n){},577:function(e,t,n){},578:function(e,t,n){},579:function(e,t,n){},60:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"11.5",cy:"11.5",r:"11",stroke:"#8DD161"}),r.a.createElement("path",{d:"M17.2554 6.74634C16.8465 6.33753 16.2934 6.12109 15.7163 6.12109C15.1391 6.12109 14.586 6.33753 14.1772 6.74634L7.70827 13.2153C7.66017 13.2634 7.63612 13.2874 7.61208 13.3596L6.14514 17.3997C6.09705 17.5199 6.12109 17.6882 6.21729 17.7844C6.28943 17.8566 6.38562 17.9047 6.48182 17.9047C6.50586 17.9047 6.55396 17.9047 6.57801 17.8806L10.2333 16.7504C10.2814 16.7263 10.3536 16.7023 10.3776 16.6542L17.2313 9.80045C17.6401 9.39163 17.8566 8.83853 17.8566 8.26137C17.8806 7.70827 17.6642 7.15516 17.2554 6.74634ZM9.8245 16.1011L8.45376 16.5339C8.38161 16.2934 8.26137 16.1011 8.06899 15.9327C7.9247 15.7884 7.75636 15.6682 7.56398 15.572L8.18923 13.8405H9.03091V14.586C9.03091 14.8025 9.19925 14.9467 9.39163 14.9467H10.089L9.8245 16.1011ZM15.2353 10.7864L10.7624 15.2594L10.8826 14.6582C10.9067 14.5379 10.8826 14.4417 10.8105 14.3455C10.7383 14.2494 10.6421 14.2013 10.5219 14.2013H9.7764V13.4558C9.7764 13.2634 9.60807 13.095 9.41568 13.095H8.83853L13.2153 8.76638L14.3696 7.63612L14.7063 7.29945C14.9708 7.03492 15.3315 6.89063 15.7163 6.89063C16.1011 6.89063 16.4618 7.03492 16.7263 7.29945C16.9908 7.56398 17.1351 7.9247 17.1351 8.30947C17.1351 8.69424 16.9908 9.05496 16.7263 9.31949L16.3896 9.65616L15.2353 10.7864Z",fill:"#8DD161"}))}},70:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(196),n(216)),i=n.n(o),s=n(90),c=n.n(s),l=n(17),u=function(){return r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"18.5208",height:"2.6916",rx:"1",transform:"matrix(0.707096 0.707118 -0.707096 0.707118 1.90625 0)",fill:"#3D3B3B"}),r.a.createElement("rect",{width:"18.5207",height:"2.69159",rx:"1",transform:"matrix(0.707098 -0.707115 0.707098 0.707115 0 13.0967)",fill:"#3D3B3B"}))},m=n(2),p=n(30);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=y(t).call(this,e),n=!r||"object"!==d(r)&&"function"!=typeof r?v(a):r,_(v(n),"updateCode",function(e){n.setState({code:e.target.value})}),n.state={phoneNumber:n.props.phoneNumber,authStep:1,timeout:59,code:"",profile:{},modalText:n.props.modalText,modalDescription:n.props.modalDescription,modalError:""},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.showAuthStep(1)}},{key:"shouldComponentUpdate",value:function(e,t){return e.isOpen!==this.props.isOpen?(this.showAuthStep(1),!0):e.phoneNumber&&e.phoneNumber!==this.props.phoneNumber?(this.setState({phoneNumber:e.phoneNumber}),!0):e.modalText!==this.state.modalText?(this.setState({modalText:e.modalText}),!0):t.phoneNumber!==this.state.phoneNumber?(this.setState({phoneNumber:t.phoneNumber}),!0):t.modalText!==this.state.modalText?(this.setState(h({modalText:t.modalText},t)),!0):t.modalDescription!==this.state.modalDescription?(this.setState(h({modalDescription:t.modalDescription},t)),!0):t.modalError!==this.state.modalError?(this.setState(h({modalError:t.modalError},t)),!0):t.authStep!==this.state.authStep?(this.setState(h({authStep:t.authStep},t)),!0):t.code!==this.state.code||(t.timeout!==this.state.timeout?(this.setState(h({timeout:t.timeout},t)),!0):t.profile.phone!==this.state.profile.phone&&(this.setState({profile:t.profile}),!0))}},{key:"confirmAuthCode",value:function(e){var t=this,n=this;Object(m.n)(this.props.confirmAuthCodeApi,{phone:this.state.phoneNumber,code:e}).then(function(e){e&&e.data&&!0===e.data.success?("function"==typeof t.props.onSuccess&&t.props.onSuccess(e.data),n.props.onClose(),Object(m.c)("macro")):n.showAuthError(e.data)})}},{key:"requestAuthCode",value:function(e){var t=this;if(!/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e))return this.setState({modalError:"Неверный номер телефона"}),void document.getElementById("phone-number-input").focus();this.setState({phoneNumber:e,modalError:""}),Object(m.n)(this.props.requestAuthCodeApi,{phone:this.state.phoneNumber}).then(function(e){e&&e.data&&!0===e.data.success?t.showAuthStep(2):t.showAuthError(e.data)})}},{key:"updatePhone",value:function(e){this.setState({phoneNumber:e})}},{key:"showAuthStep",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.timer&&clearInterval(this.timer),2===e&&this.state.phoneNumber?this.setState({authStep:2,modalText:"Мы отправили СМС с кодом на номер ".concat(this.state.phoneNumber),modalDescription:"Получить код ещё раз можно будет через ".concat(this.state.timeout," секунд"),modalError:"",timeout:59},function(){Object(m.d)("sms-code-input"),t.timer=setInterval(function(){var e=t.state.timeout-1;t.setState({timeout:e,modalDescription:"Получить код ещё раз можно будет через ".concat(e," секунд")}),0===e&&t.setState({modalDescription:t.renderModalDescription()})},1e3)}):this.setState(h({authStep:1,phoneNumber:"",modalText:this.props.modalText,modalDescription:this.props.modalDescription,modalError:""},n),function(){Object(m.d)("phone-number-input")})}},{key:"formSubmit",value:function(e){var t="";switch(e.preventDefault(),t=new FormData(e.target),e.target.reset(),this.state.authStep){case 1:this.requestAuthCode(t.get("phoneNumber"));break;case 2:this.confirmAuthCode(t.get("smsCode"))}}},{key:"showAuthError",value:function(e){var t="";e.errors&&e.errors.length?e.errors.map(function(e){t+=e.message}):e.message&&(t=e.message),""===t&&(t="В настоящее время сервис недоступен. Попробуйте обновить страницу и отправить запрос заново."),this.setState({modalError:t})}},{key:"renderModalText",value:function(){var e=this;return 1===this.state.authStep?r.a.createElement("div",{className:"modal-title__label"},this.state.modalText):2!==this.state.authStep||this.state.modalError?r.a.createElement("div",{className:"modal-title__label"},this.state.modalError||this.state.modalText):r.a.createElement("div",{className:"modal-title__label"},"Мы отправили СМС с кодом на номер ",this.state.phoneNumber,r.a.createElement("div",{className:"modal-link",onClick:function(){e.showAuthStep(1)}},"Изменить"))}},{key:"renderModalDescription",value:function(){var e=this;return 1===this.state.authStep||this.state.timeout>0?r.a.createElement("span",{className:"modal-description"},this.state.modalDescription):r.a.createElement("span",{className:"modal-description"},r.a.createElement("div",{className:"modal-link",onClick:function(){e.requestAuthCode(e.state.phoneNumber)}},"Отправить повторно"))}},{key:"renderModalValidationResult",value:function(){return 1===this.state.authStep&&this.state.modalError?this.state.modalError:""}},{key:"renderForm",value:function(){var e=this,t=this.renderModalText(),n=this.renderModalDescription();return 1===this.state.authStep?r.a.createElement("div",{className:"modal-form-container"},r.a.createElement("div",{className:"modal-hide",onClick:this.props.onClose},r.a.createElement(u,null)),r.a.createElement("h2",{className:"modal-title"},this.props.modalTitle),t,r.a.createElement("form",{className:"auth-form-modal",onSubmit:function(t){e.formSubmit(t),Object(m.c)("macro")}},r.a.createElement("div",{className:"modal-top-level"}),r.a.createElement("div",{className:"modal-bottom-level"},r.a.createElement("div",{className:"modal-input"},r.a.createElement(c.a,{id:"phone-number-input",className:"modal-input__input",name:"phoneNumber",mask:"+7 (999) 999-99-99",value:this.state.phoneNumber,onChange:function(t){e.updatePhone(t.target.value)}}),r.a.createElement(p.a,{error:1===this.state.authStep&&this.state.modalError?this.state.modalError:""})),r.a.createElement(l.a,{buttonType:"default",buttonTitle:"Отправить",buttonClass:"modal-button",onClickSubmit:!0})),n)):r.a.createElement("div",{className:"modal-form-container"},r.a.createElement("div",{className:"modal-hide",onClick:this.props.onClose},r.a.createElement(u,null)),r.a.createElement("h2",{className:"modal-title"},this.props.modalTitle),t,r.a.createElement("form",{className:"auth-form-modal",onSubmit:function(t){e.formSubmit(t)}},r.a.createElement("div",{className:"modal-top-level"}),r.a.createElement("div",{className:"modal-bottom-level"},r.a.createElement("div",{className:"modal-input"},r.a.createElement(c.a,{id:"sms-code-input",className:"modal-input__input modal-input__input--sms-code",name:"smsCode",autoComplete:"off",mask:"9999",value:this.state.code,onChange:this.updateCode})),r.a.createElement(l.a,{buttonType:"default",buttonTitle:"Отправить",buttonClass:"modal-button",onClickSubmit:!0})),n))}},{key:"render",value:function(){return r.a.createElement(i.a,{isOpen:this.props.isOpen,onRequestClose:this.props.onClose,contentLabel:"Example Modal",className:"auth-modal-container",overlayClassName:"auth-modal-container__overlay",appElement:document.getElementById("app")},this.renderForm())}}])&&b(n.prototype,a),o&&b(n,o),t}();E.defaultProps={phoneNumber:void 0};t.a=E},71:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(5),n(68));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,l(t).call(this,e))).state={category:n.props.category,menuItems:n.props.menuItems||[]},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return e.menuItems!==this.state.menuItems&&(this.setState({menuItems:e.menuItems}),!0)}},{key:"componentDidUpdate",value:function(){this.props.category}},{key:"renderMenuItem",value:function(e,t,n){var a=this;return r.a.createElement(o.Link,{key:"menu"+t,onClick:function(){e.onClick?e.onClick():a.props.menuItemClick(t)},activeClass:"menu__item_active",className:"menu__item"+(e.cssClass?" "+e.cssClass:""),to:"section"+e.id,isDynamic:!0,offset:-80,spy:!0,smooth:!0,duration:500},e.title)}},{key:"renderLink",value:function(e,t){return r.a.createElement("a",{key:"link"+t,href:e.link,className:"menu__item"},e.title)}},{key:"render",value:function(){var e=this,t=[];return t.push(this.state.menuItems.map(function(t,n){return t.link?e.renderLink(t,n):e.renderMenuItem(t,n,e.state.menuItems[n].active)})),r.a.createElement("nav",{className:"menu"},t.map(function(e){return e}))}}])&&s(n.prototype,a),i&&s(n,i),t}();t.a=m}});